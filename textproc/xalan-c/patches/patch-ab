$NetBSD: patch-ab,v 1.1.1.1 2001/01/15 12:42:14 skrll Exp $

--- Makefile.in.orig	Tue Oct 10 16:36:14 2000
+++ Makefile.in
@@ -214,6 +214,27 @@
 
 
 endif
+#=============== NETBSD SPECIFIC OPTIONS =========================
+ifeq ($(PLATFORM), NETBSD)
+
+SUPPORTED = TRUE
+PLATFORM_COMPILE_OPTIONS = -fPIC -D${PLATFORM} #-D_REENTRANT -instances=static
+ALLLIBS = ${LIBS} -L${LOCALBASE}/lib -Wl,-R${LOCALBASE}/lib -L${LOCALBASE}/lib/icu/current -Wl,-R${LOCALBASE}/lib/icu/current -lc
+SHLIBSUFFIX=.so
+
+# We need the ICU library if we are using the ICUBridge
+ifdef XALAN_USE_ICU
+LD_RPATH_PRE=  -Wl,-rpath,
+PLATFORM_LIB_LINK_OPTIONS=$(LD_RPATH_PRE)/usr/lib $(LD_RPATH_PRE)/usr/local/lib $(LD_RPATH_PRE)/usr/pkg/lib
+endif
+
+
+EXTRA_LINK_OPTIONS=-lc
+CC1 = $(CXX) $(CXXFLAGS) $(PLATFORM_COMPILE_OPTIONS)
+MAKE_SHARED = ${CXX} $(CXXFLAGS) -D${PLATFORM} -shared -fPIC -Wl,-no-keep-memory #${LD} -shared -no-keep-memory -lstdc++
+LINK =  g++ -D${PLATFORM} 
+
+endif
 
 ifndef SUPPORTED
 nogood:
@@ -225,8 +246,8 @@
 
 # We need the ICU library if we are using the ICUBridge
 ifdef XALAN_USE_ICU
-ALLLIBS += -L/usr/local/lib -licu-uc
-ALLLIBS += -L/usr/local/lib -licu-i18n
+ALLLIBS += -L${LOCALBASE} -licuuc
+ALLLIBS += -L${LOCALBASE} -licui18n
 endif
 
 
