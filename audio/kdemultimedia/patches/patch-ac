$NetBSD: patch-ac,v 1.1.1.1 1999/10/01 11:10:29 drochner Exp $
--- kscd/plat_freebsd.c.orig	Sun Sep 26 02:18:22 1999
+++ kscd/plat_freebsd.c	Sun Sep 26 02:27:36 1999
@@ -41,15 +41,6 @@
 #include <sys/ioctl.h>
 #include <sys/cdio.h>
 
-#ifdef __NetBSD__
-
-#define MSF_MINUTES 1
-#define MSF_SECONDS 2
-#define MSF_FRAMES 3
-
-#include "/sys/scsi/scsi_all.h"
-#include "/sys/scsi/scsi_cd.h"
-#endif
 
 #include "struct.h"
 
@@ -110,15 +101,9 @@
 		return (-1);
 
 
-#ifdef __NetBSD__
-	*min = toc_buffer.addr[MSF_MINUTES];
-	*sec = toc_buffer.addr[MSF_SECONDS];
-	*frm = toc_buffer.addr[MSF_FRAMES];
-#else
 	*min = toc_buffer.addr.msf.minute;
 	*sec = toc_buffer.addr.msf.second;
 	*frm = toc_buffer.addr.msf.frame;
-#endif
 
 	
 	return (0);
@@ -148,15 +133,9 @@
 
 	*data = ((toc_buffer.control & 0x4) != 0);
 
-#ifdef __NetBSD__
-	*startframe = toc_buffer.addr[MSF_MINUTES]*60*75 +
-		toc_buffer.addr[MSF_SECONDS] * 75 +
-		toc_buffer.addr[MSF_FRAMES];
-#else
 	*startframe = toc_buffer.addr.msf.minute*60*75 +
 		toc_buffer.addr.msf.second * 75 +
 		toc_buffer.addr.msf.frame;
-#endif
 
 	return (0);
 }
@@ -224,15 +203,9 @@
 	case CD_AS_PLAY_IN_PROGRESS:
 		*mode = PLAYING;
 dopos:
-#ifdef __NetBSD__
-		*pos = scd.what.position.absaddr[MSF_MINUTES] * 60 * 75 +
-			scd.what.position.absaddr[MSF_SECONDS] * 75 +
-			scd.what.position.absaddr[MSF_FRAMES];
-#else
 		*pos = scd.what.position.absaddr.msf.minute * 60 * 75 +
 			scd.what.position.absaddr.msf.second * 75 +
 			scd.what.position.absaddr.msf.frame;
-#endif
 		*track = scd.what.position.track_number;
 		*index = scd.what.position.index_number;
 		break;
