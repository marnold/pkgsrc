$NetBSD: patch-ac,v 1.1.1.1 2001/07/31 14:28:00 drochner Exp $

--- src/frame_impl.cpp.orig	Mon Jul 30 16:21:31 2001
+++ src/frame_impl.cpp	Mon Jul 30 16:31:41 2001
@@ -37,7 +37,7 @@
 
 ID3_FrameImpl::ID3_FrameImpl(ID3_FrameID id)
   : _changed(false),
-    _bitset(),
+    _bitset(ID3FN_LASTFIELDID, false),
     _fields(),
     _encryption_id('\0'),
     _grouping_id('\0')
@@ -48,7 +48,7 @@
 
 ID3_FrameImpl::ID3_FrameImpl(const ID3_FrameHeader &hdr)
   : _changed(false),
-    _bitset(),
+    _bitset(ID3FN_LASTFIELDID, false),
     _fields(),
     _hdr(hdr),
     _encryption_id('\0'),
@@ -59,7 +59,7 @@
 
 ID3_FrameImpl::ID3_FrameImpl(const ID3_Frame& frame)
   : _changed(false),
-    _bitset(),
+    _bitset(ID3FN_LASTFIELDID, false),
     _fields(),
     _encryption_id('\0'),
     _grouping_id('\0')
@@ -80,7 +80,7 @@
   }
 
   _fields.clear();
-  _bitset.reset();
+  _bitset.clear();
 
   _changed = true;
   return true;
@@ -102,7 +102,7 @@
     // log this
     ID3_Field* fld = new ID3_FieldImpl(ID3_FieldDef::DEFAULT[0]);
     _fields.push_back(fld);
-    _bitset.set(fld->GetID());
+    _bitset[fld->GetID()] = true;
   }
   else
   {
@@ -111,7 +111,7 @@
     {
       ID3_Field* fld = new ID3_FieldImpl(info->aeFieldDefs[i]);
       _fields.push_back(fld);
-      _bitset.set(fld->GetID());
+      _bitset[fld->GetID()] = true;
     }
     
     _changed = true;
