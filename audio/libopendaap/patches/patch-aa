$NetBSD: patch-aa,v 1.2.2.1 2005/03/23 13:14:20 salo Exp $

--- thread.h.orig	2004-12-14 05:11:09.000000000 +0100
+++ thread.h
@@ -42,8 +42,8 @@
         pthread_mutexattr_t attr; \
         pthread_mutexattr_init(&attr) ; \
         pthread_mutexattr_settype(&attr, PTHREAD_MUTEX_RECURSIVE); \
-        pthread_mutexattr_destroy(&attr) ; \
         pthread_mutex_init(& m, &attr); \
+        pthread_mutexattr_destroy(&attr) ; \
     } while (0)
 #define ts_mutex_lock(m)              pthread_mutex_lock(& m)
 #define ts_mutex_unlock(m)            pthread_mutex_unlock(& m)
