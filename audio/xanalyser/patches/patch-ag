$NetBSD: patch-ag,v 1.1.1.1 2002/04/23 03:33:27 schmonz Exp $

--- src/Scope.cc.orig	Wed Dec 12 16:39:48 2001
+++ src/Scope.cc
@@ -8,7 +8,7 @@
 #include <stdio.h>
 #include <stdlib.h>
 #include <math.h>
-#include <values.h>
+#include <limits.h>
 
 #include <X11/Xlib.h>
 #ifdef DBE
@@ -250,15 +250,15 @@
     if (sample.frame_count % num_count == 0)
 	clear (0);
 
-    const double dx = xanalyser.dcadjust ? sample.dc[0] / MAXINT : 0;
-    const double dy = xanalyser.dcadjust ? sample.dc[1] / MAXINT : 0;
+    const double dx = xanalyser.dcadjust ? sample.dc[0] / INT_MAX : 0;
+    const double dy = xanalyser.dcadjust ? sample.dc[1] / INT_MAX : 0;
 
     const double sf = M_LOG2E * exp (0.05 * zoom * log (10.0));
 
     for (unsigned int i = 0; i < sample.length; i++) {
 
-	double x = (double)(buffer[2 * i + 0]) / (double)(MAXINT) - dx;
-	double y = (double)(buffer[2 * i + 1]) / (double)(MAXINT) - dy;
+	double x = (double)(buffer[2 * i + 0]) / (double)(INT_MAX) - dx;
+	double y = (double)(buffer[2 * i + 1]) / (double)(INT_MAX) - dy;
 
 	double h = hypot (x, y);
 	double rdh = h == 0.0 ? 0.0 : sf * log (h + 1.0) / h;
