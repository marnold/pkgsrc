$NetBSD: patch-ap,v 1.1.1.1 2003/12/24 12:57:32 jmmv Exp $

--- texk/tetex/texconfig.orig	Fri Jun 25 15:59:21 1999
+++ texk/tetex/texconfig	Sat Apr 15 11:49:13 2000
@@ -31,8 +31,6 @@
 # Thomas Esser, te@informatik.uni-hannover.de
 # Copyright: Thomas Esser, 1994, 1995, 1996, 1997, 1999. Public domain.
 
-# You may override DIALOG_TERMINFO and DIALOG_TERM in your environment.
-
 progname=`basename $0`
 tmpdir=${TMP-/tmp}/texconf$$
 tmpmenu=$tmpdir/menu.out
@@ -122,27 +120,10 @@
 
 cls() { test -z "$NO_CLEAR" && clear; }
 
-# Some systems have their own dialog. Use it then and do not use
-# faked TERM and TERMINFO variables when calling that dialog.
-find_dialogtype()
-{
-  own_dialog=false
-  { u=`uname -s`; } 2>/dev/null
-  case "$u" in
-    FreeBSD|Linux)
-      DIALOG_PROG=/usr/bin/dialog
-      test -x "$DIALOG_PROG" && own_dialog=true;;
-  esac
-}
- 
 run_dialog()
 {
   test -z "$NO_CLEAR" && clear
-  if $own_dialog; then
-    $DIALOG_PROG --title "$version setup utility" "$@"
-  else
-    TERM=$DIALOG_TERM TERMINFO=$DIALOG_TERMINFO dialog --title "$version setup utility" "$@"
-  fi
+  dialog --title "$version setup utility" "$@"
 }
 
 check_environ()
@@ -219,22 +200,6 @@
   echo "Done." >&2
 }
 
-check_terminal()
-{
-  terminfo=${DIALOG_TERMINFO-/usr/lib/terminfo}
-
-  test -f $terminfo/`echo $DIALOG_TERM | sed 's/\(.\).*/\1/'`/$DIALOG_TERM \
-    && return
-
-  cat >&2 <<eof
-TERM=$DIALOG_TERM is not supported by your terminfo system.
-See terminfo(5), tic(1m) and term(5) for help.
-
-$progname failed. Program aborted.
-eof
-  exit 1
-}
-
 fix_pager_more()
 {
   case "$PAGER" in
@@ -1507,7 +1472,6 @@
 #------------------ begin: initialisation -----------------------------------
 find_echo
 find_fmt
-find_dialogtype
 check_environ
 require_binary kpsewhich pwd
 
@@ -1574,8 +1538,6 @@
 
 # The fallback directory for private scripts and config files.
 : ${TEXMF=`kpsewhich -expand-var '$TEXMF'`}
-: ${DIALOG_TERMINFO=$TC_TEXMFMAIN/texconfig}
-: ${DIALOG_TERM=generic}
 
 formats=$TC_VARTEXMF/web2c
 bases=$TC_VARTEXMF/web2c
@@ -1712,7 +1674,6 @@
 fmtutil --missing
 texlinks ${SILENT_TEXLINKS+-s}
 
-check_terminal
 cat <<eof
 
 The interactive texconfig utility will be started now. Make sure your
