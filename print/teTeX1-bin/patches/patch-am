$NetBSD: patch-am,v 1.1.1.1 2003/12/24 12:57:30 jmmv Exp $

--- texk/ps2pkm/spaces.c.orig	Sun Feb  7 09:00:18 1999
+++ texk/ps2pkm/spaces.c	Thu Sep 30 13:34:51 1999
@@ -207,7 +207,7 @@
        int rc = -1;          /* return code for QueryDeviceState             */
  
        if (rc != 0)          /* we only bother with this check once          */
-               abort("Context:  QueryDeviceState didn't work");
+               t1_abort("Context:  QueryDeviceState didn't work");
  
        M[0][0] = M[1][0] = M[0][1] = M[1][1] = 0.0;
  
@@ -225,7 +225,7 @@
                M[1][0] = -Yres;  M[0][1] = -Xres;
                break;
            default:
-               abort("QueryDeviceState returned invalid orientation");
+               t1_abort("QueryDeviceState returned invalid orientation");
        }
        return(FindContext(M));
 }
@@ -249,7 +249,7 @@
  
        if (i >= nextcontext) {
                if (i >= MAXCONTEXTS)
-                       abort("Context:  out of them");
+                       t1_abort("Context:  out of them");
                LONGCOPY(contexts[i].normal, M, sizeof(contexts[i].normal));
                MatrixInvert(M, contexts[i].inverse);
                nextcontext++;
@@ -886,7 +886,7 @@
  
        D = M[1][1] * M[0][0] - M[1][0] * M[0][1];
        if (D == 0.0)
-               abort("MatrixInvert:  can't");
+               t1_abort("MatrixInvert:  can't");
  
        Mprime[0][0] = tyy / D;
        Mprime[1][0] = -txy / D;
