$NetBSD: patch-ab,v 1.1.1.1 2001/10/21 21:26:52 seb Exp $

--- include/config.h.orig	Wed Sep 26 05:04:02 2001
+++ include/config.h
@@ -51,8 +51,12 @@
  * system limits. If you know what you are doing, increase them now
  */
 
+#ifndef HARD_FDLIMIT_
 #define HARD_FDLIMIT_   256
+#endif
+#ifndef INIT_MAXCLIENTS
 #define INIT_MAXCLIENTS 180
+#endif
 
 /*
  * This is how many 'buffer connections' we allow...
@@ -77,7 +81,9 @@
  *       will be preallocated for the entire whowas array when ircd is started.
  *       You will want to crank this down if you are on a small net.
  */
+#ifndef NICKNAMEHISTORYLENGTH
 #define NICKNAMEHISTORYLENGTH 15000
+#endif
 
 /* Don't change this... */
 #define HARD_FDLIMIT    (HARD_FDLIMIT_ - 10)
@@ -109,14 +115,22 @@
  *
  */
 
+#ifndef DPATH
 #define DPATH   "/usr/local/ircd/"
+#endif
+#ifndef SPATH
 #define SPATH   "/usr/local/ircd/ircd"
+#endif
 #define CPATH   "ircd.conf"
 #define KPATH   "kline.conf"
 #define DLPATH  "kline.conf"
 #define MPATH   "ircd.motd"
+#ifndef LPATH
 #define LPATH   "ircd.log"
+#endif
+#ifndef PPATH
 #define PPATH   "ircd.pid"
+#endif
 #define HPATH   "opers.txt"
 #define OPATH   "opers.motd"
 
@@ -151,12 +165,16 @@
 /* NETWORK_NAME
  * Displayed in place of the servername when SERVERHIDE is enabled
  */
+#ifndef NETWORK_NAME
 #define NETWORK_NAME "EFnet"
+#endif
 
 /* NETWORK_DESC
  * Displayed in place of the server info when SERVERHIDE is enabled
  */
+#ifndef NETWORK_DESC
 #define NETWORK_DESC "Eris Free Network"
+#endif
 
 
 /* TS_MAX_DELTA and TS_WARN_DELTA -  allowed delta for TS when another
@@ -208,8 +226,12 @@
  *
  * These need to be defined if you want to use SYSLOG logging, too.
  */
+#ifndef FNAME_USERLOG
 #define FNAME_USERLOG "/usr/local/ircd/users"
+#endif
+#ifndef FNAME_OPERLOG
 #define FNAME_OPERLOG "/usr/local/ircd/opers"
+#endif
 
 /* RFC1035_ANAL
  * Defining this causes ircd to reject hostnames with non-compliant chars.
@@ -487,13 +509,15 @@
  * options are:
  *   L_CRIT, L_ERROR, L_WARN, L_NOTICE, L_TRACE, L_INFO, L_DEBUG
  */
+#ifndef  INIT_LOG_LEVEL
 #define INIT_LOG_LEVEL L_NOTICE
+#endif
 
 /* USE_LOGFILE - log errors and such to LPATH
  * If you wish to have the server send 'vital' messages about server
  * to a logfile, define USE_LOGFILE.
  */
-#define USE_LOGFILE
+/* #define USE_LOGFILE */
 
 /* USE_SYSLOG - log errors and such to syslog()
  * If you wish to have the server send 'vital' messages about server
@@ -503,25 +527,27 @@
  * this option is used unless you tell the system administrator beforehand
  * and obtain their permission to send messages to the system log files.
  */
-#undef  USE_SYSLOG
+/* #undef  USE_SYSLOG */
 
 #ifdef  USE_SYSLOG
 /* SYSLOG_KILL SYSLOG_SQUIT SYSLOG_CONNECT SYSLOG_USERS SYSLOG_OPER
  * If you use syslog above, you may want to turn some (none) of the
  * spurious log messages for KILL,SQUIT,etc off.
  */
-#undef  SYSLOG_KILL     /* log all operator kills to syslog */
-#undef  SYSLOG_SQUIT    /* log all remote squits for all servers to syslog */
-#undef  SYSLOG_CONNECT  /* log remote connect messages for other all servs */
-#undef  SYSLOG_USERS    /* send userlog stuff to syslog */
-#undef  SYSLOG_OPER     /* log all users who successfully become an Op */
+#define  SYSLOG_KILL     /* log all operator kills to syslog */
+#define  SYSLOG_SQUIT    /* log all remote squits for all servers to syslog */
+#define  SYSLOG_CONNECT  /* log remote connect messages for other all servs */
+#define  SYSLOG_USERS    /* send userlog stuff to syslog */
+#define  SYSLOG_OPER     /* log all users who successfully become an Op */
 #undef  SYSLOG_BLOCK_ALLOCATOR /* debug block allocator */
 
 /* LOG_FACILITY - facility to use for syslog()
  * Define the facility you want to use for syslog().  Ask your
  * sysadmin which one you should use.
  */
+#ifndef LOG_FACILITY
 #define LOG_FACILITY LOG_LOCAL4
+#endif
 
 #endif /* USE_SYSLOG */
 
@@ -549,7 +575,9 @@
 /* MAXSENDQLENGTH - Max amount of internal send buffering
  * Max amount of internal send buffering when socket is stuck (bytes)
  */
+#ifndef MAXSENDQLENGTH
 #define MAXSENDQLENGTH 9000000    /* Recommended value: 9000000 for EFnet */
+#endif
 
 /*  BUFFERPOOL - the maximum size of the total of all sendq's.
  *  Recommended value is 4 times MAXSENDQLENGTH.
@@ -561,8 +589,8 @@
  * define IRC_UID to that UID.  This should only be defined if you are running
  * as root and even then perhaps not.
  */
-#define IRC_UID 1001
-#define IRC_GID 31
+#undef IRC_UID
+#undef IRC_GID
 
 /* CLIENT_FLOOD - client excess flood threshold
  * this controls the number of bytes the server will allow a client to
@@ -589,7 +617,7 @@
  * if there are no servers presently connected to this server
  * opers are not affected.
  */
-#undef  NO_CHANOPS_ON_SPLIT
+#undef NO_CHANOPS_ON_SPLIT
 
 /* NO_JOIN_ON_SPLIT
  *
@@ -776,7 +804,9 @@
 
 /* INITIAL_DBUFS - how many dbufs to preallocate
  */
+#ifndef INITIAL_DBUFS
 #define INITIAL_DBUFS 4000 /* preallocate 16 megs of dbufs */
+#endif
 
 /* MAXBUFFERS - increase socket buffers
  *
