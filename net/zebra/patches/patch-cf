$NetBSD: patch-cf,v 1.1.2.2 2002/08/25 21:20:53 jlam Exp $

diff -u1 ospf6d/ospf6_intra.c /home/itojun/work/zebra/zebra/ospf6d/ospf6_intra.c
--- ospf6d/ospf6_intra.c	Mon Jul  8 22:31:02 2002
+++ /home/itojun/work/zebra/zebra/ospf6d/ospf6_intra.c	Sat Jul 13 01:03:44 2002
@@ -39,2 +39,12 @@
 
+  if (IS_OSPF6_DUMP_INTRA)
+    {
+      char buf[64];
+      struct prefix_ls *p_ls;
+      p_ls = (struct prefix_ls *) &topo_entry->route.prefix;
+      inet_ntop (AF_INET, &p_ls->adv_router, buf, sizeof (buf));
+      zlog_info ("INTRA: Calculate [%s] %s and %s",
+                 (type == ADD ? "add" : "remove"), lsa->str, buf);
+    }
+
   intra_prefix = OSPF6_LSA_HEADER_END (lsa->header);
@@ -200,6 +210,2 @@
     {
-      if (IS_OSPF6_DUMP_INTRA)
-        zlog_info ("INTRA: topology hook: Examining %s (%p)",
-                   node.lsa->str, node.lsa);
-
       if (IS_LSA_MAXAGE (node.lsa))
