# $NetBSD: patch-bd,v 1.1.2.2 2002/08/21 09:58:31 agc Exp $

On NetBSD, comment out call to setgetprogname().

--- lib/sl/make_cmds.c.orig	Tue Aug 20 16:52:43 2002
+++ lib/sl/make_cmds.c	Tue Aug 20 16:58:20 2002
@@ -213,7 +213,16 @@
 {
     int optind = 0;
 
+/*
+ * The setprogname(3) function was introduced in NetBSD 1.6.
+ * It is a function provided for compatibility, and in NetBSD,
+ * calling setprogname() from main() has no effect.
+ * In order to for this to work on older NetBSD systems,
+ * we just comment the call to setprogname() out.
+ */
+#if !defined(__NetBSD__)
     setprogname(argv[0]);
+#endif
     if(getarg(args, sizeof(args)/sizeof(*args), argc, argv, &optind))
 	usage(1);
     if(help_flag)
