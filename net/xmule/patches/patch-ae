$NetBSD: patch-ae,v 1.1.1.1 2003/06/03 09:17:21 jmmv Exp $

--- src/xmuleDlg.cpp.orig	2003-05-31 13:32:39.000000000 +0000
+++ src/xmuleDlg.cpp	2003-05-31 13:40:38.000000000 +0000
@@ -20,6 +20,7 @@
 //
 
 //#include "stdafx.h"
+#include "config.h"
 #include "xmule.h"
 #include "xmuleDlg.h"
 #include "sockets.h"
@@ -131,6 +132,9 @@
 
 // CxmuleDlg Dialog
 #include <signal.h>
+#ifdef HAVE_SYS_UTSNAME_H
+#include <sys/utsname.h>
+#endif
 
 #if wxMINOR_VERSION > 4
 #define CLOSEBOX wxCLOSE_BOX
@@ -138,8 +142,19 @@
 #define CLOSEBOX 0
 #endif
 
+const char * GetAppTitle()
+{
+#if defined(HAVE_UNAME) && defined(HAVE_SYS_UTSNAME_H)
+  struct utsname un;
+  uname(&un);
+  return CString("xMule for ") + un.sysname;
+#else
+  return CString("xMule for *NIX");
+#endif
+}
+
 CxmuleDlg::CxmuleDlg(wxWindow* pParent, wxString title) 
-  : wxFrame(pParent,CxmuleDlg::IDD,title,wxDefaultPosition,wxSize(800,520),
+  : wxFrame(pParent,CxmuleDlg::IDD,GetAppTitle(),wxDefaultPosition,wxSize(800,520),
 	    wxCAPTION|wxRESIZE_BORDER|wxSYSTEM_MENU|wxDIALOG_NO_PARENT|wxTHICK_FRAME|wxMINIMIZE_BOX|wxMAXIMIZE_BOX|CLOSEBOX)
 {
   m_app_state=APP_STATE_STARTING;
