$NetBSD: patch-an,v 1.1.1.1 1999/10/08 04:34:43 dbj Exp $

--- include/net/if_ppp.h.orig	Sat Sep 18 03:06:38 1999
+++ include/net/if_ppp.h	Sat Sep 18 03:09:15 1999
@@ -107,8 +109,22 @@
 #define PPPIOCSNPMODE	_IOW('t', 75, struct npioctl)  /* set NP mode */
 #define PPPIOCGIDLE	_IOR('t', 74, struct ppp_idle) /* get idle time */
 #ifdef PPP_FILTER
+/*
+ * XXX These are deprecated; they can no longer be used, because they
+ * XXX don't play well with multiple encaps.  The defs are here so that
+ * XXX we can return decent errors to old pppds, and so that new pppds
+ * XXX will work with old kernels.
+ */
 #define PPPIOCSPASS	_IOW('t', 71, struct bpf_program) /* set pass filter */
 #define PPPIOCSACTIVE	_IOW('t', 70, struct bpf_program) /* set active filt */
+
+/*
+ * Use these instead.
+ */
+#define	PPPIOCSIPASS	_IOW('t', 69, struct bpf_program) /* set in pass flt */
+#define	PPPIOCSOPASS	_IOW('t', 68, struct bpf_program) /* set out pass flt */
+#define	PPPIOCSIACTIVE	_IOW('t', 67, struct bpf_program) /* set in act flt */
+#define	PPPIOCSOACTIVE	_IOW('t', 66, struct bpf_program) /* set out act flt */
 #endif /* PPP_FILTER */
 
 /* PPPIOC[GS]MTU are alternatives to SIOC[GS]IFMTU, used under Ultrix */
