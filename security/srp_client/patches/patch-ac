$NetBSD: patch-ac,v 1.1.1.1 1999/06/18 19:18:18 jlam Exp $

Rename setmode (and clearmode for consistency) to avoid clash with unistd.h.

--- telnet/telnet/commands.c.orig	Thu Dec 10 17:50:48 1998
+++ telnet/telnet/commands.c	Fri Jun 18 06:59:32 1999
@@ -64,6 +64,7 @@
 #include <fcntl.h>
 #endif	/* CRAY */
 
+#include <unistd.h>	/* vfork() */
 #include <signal.h>
 #include <netdb.h>
 #include <ctype.h>
@@ -1156,13 +1157,13 @@
 }
 
     int
-setmode(bit)
+setlmode(bit)
 {
     return dolmmode(bit, 1);
 }
 
     int
-clearmode(bit)
+clearlmode(bit)
 {
     return dolmmode(bit, 0);
 }
@@ -1188,18 +1189,18 @@
 #endif
     { "", "", 0 },
     { "",	"These require the LINEMODE option to be enabled", 0 },
-    { "isig",	"Enable signal trapping",	setmode, 1, MODE_TRAPSIG },
-    { "+isig",	0,				setmode, 1, MODE_TRAPSIG },
-    { "-isig",	"Disable signal trapping",	clearmode, 1, MODE_TRAPSIG },
-    { "edit",	"Enable character editing",	setmode, 1, MODE_EDIT },
-    { "+edit",	0,				setmode, 1, MODE_EDIT },
-    { "-edit",	"Disable character editing",	clearmode, 1, MODE_EDIT },
-    { "softtabs", "Enable tab expansion",	setmode, 1, MODE_SOFT_TAB },
-    { "+softtabs", 0,				setmode, 1, MODE_SOFT_TAB },
-    { "-softtabs", "Disable character editing",	clearmode, 1, MODE_SOFT_TAB },
-    { "litecho", "Enable literal character echo", setmode, 1, MODE_LIT_ECHO },
-    { "+litecho", 0,				setmode, 1, MODE_LIT_ECHO },
-    { "-litecho", "Disable literal character echo", clearmode, 1, MODE_LIT_ECHO },
+    { "isig",	"Enable signal trapping",	setlmode, 1, MODE_TRAPSIG },
+    { "+isig",	0,				setlmode, 1, MODE_TRAPSIG },
+    { "-isig",	"Disable signal trapping",	clearlmode, 1, MODE_TRAPSIG },
+    { "edit",	"Enable character editing",	setlmode, 1, MODE_EDIT },
+    { "+edit",	0,				setlmode, 1, MODE_EDIT },
+    { "-edit",	"Disable character editing",	clearlmode, 1, MODE_EDIT },
+    { "softtabs", "Enable tab expansion",	setlmode, 1, MODE_SOFT_TAB },
+    { "+softtabs", 0,				setlmode, 1, MODE_SOFT_TAB },
+    { "-softtabs", "Disable character editing",	clearlmode, 1, MODE_SOFT_TAB },
+    { "litecho", "Enable literal character echo", setlmode, 1, MODE_LIT_ECHO },
+    { "+litecho", 0,				setlmode, 1, MODE_LIT_ECHO },
+    { "-litecho", "Disable literal character echo", clearlmode, 1, MODE_LIT_ECHO },
     { "help",	0,				modehelp, 0 },
 #ifdef	KLUDGELINEMODE
     { "kludgeline", 0,				dokludgemode, 1 },
