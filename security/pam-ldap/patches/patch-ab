$NetBSD: patch-ab,v 1.1.1.1 2000/10/21 18:47:46 rh Exp $

--- pam_ldap.c.orig	Sat Oct 21 18:19:15 2000
+++ pam_ldap.c
@@ -533,7 +533,7 @@
 
   result = *presult;
 
-  fp = fopen ("/etc/ldap.conf", "r");
+  fp = fopen (ETCPAMDIR "/ldap.conf", "r");
   if (fp == NULL)
     {
       /* 
@@ -722,7 +722,7 @@
 
   if (result->rootbinddn != NULL)
     {
-      fp = fopen ("/etc/ldap.secret", "r");
+      fp = fopen (ETCPAMDIR "/ldap.secret", "r");
       if (fp != NULL)
 	{
 	  if (fgets (b, sizeof (b), fp) != NULL)
@@ -741,7 +741,7 @@
 	{
 	  _pam_drop (result->rootbinddn);
 	  syslog (LOG_WARNING,
-		  "pam_ldap: could not open secret file /etc/ldap.secret (%s)",
+		  "pam_ldap: could not open secret file " ETCPAMDIR "/ldap.secret (%s)",
 		  strerror (errno));
 	}
     }
