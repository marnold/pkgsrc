$NetBSD: patch-ag,v 1.2.2.2 2002/06/23 18:48:02 jlam Exp $

--- server/setup.c.orig	Mon May  7 12:15:08 2001
+++ server/setup.c	Mon May  7 12:50:19 2001
@@ -220,5 +220,5 @@
 	char	*optname;
 	u_char	*(*optfunc)();
-	int	optarg;
+	long int	optarg;
 } option[] = {
 /*
@@ -227,47 +227,47 @@
  * Patched by Hidekazu Kuroki(hidekazu@cs.titech.ac.jp)		1996/8/10
  */
-	"DebugOut",	get_str,	(int)&debug_file,
-	"debugout",	get_str,	(int)&debug_file,
-	"DebugLevel",	get_int,	(int)&debug_level,
-	"debuglevel",	get_int,	(int)&debug_level,
-	"ForkFlag",	get_flag,	(int)&fork_flag,
-	"forkflag",	get_flag,	(int)&fork_flag,
+	"DebugOut",	get_str,	(long int)&debug_file,
+	"debugout",	get_str,	(long int)&debug_file,
+	"DebugLevel",	get_int,	(long int)&debug_level,
+	"debuglevel",	get_int,	(long int)&debug_level,
+	"ForkFlag",	get_flag,	(long int)&fork_flag,
+	"forkflag",	get_flag,	(long int)&fork_flag,
 
-	"PortName",	get_str,	(int)&port_name,
-	"portname",	get_str,	(int)&port_name,
+	"PortName",	get_str,	(long int)&port_name,
+	"portname",	get_str,	(long int)&port_name,
 #ifdef TLI
-	"PortNumber",	get_str,	(int)&port_number,
-	"portnumber",	get_str,	(int)&port_number,
-	"ProtoName",    get_str,        (int)&proto_name,
-	"protoname",    get_str,        (int)&proto_name,
+	"PortNumber",	get_str,	(long int)&port_number,
+	"portnumber",	get_str,	(long int)&port_number,
+	"ProtoName",    get_str,        (long int)&proto_name,
+	"protoname",    get_str,        (long int)&proto_name,
 #else
-	"PortNumber",	get_int,	(int)&port_number,
-	"portnumber",	get_int,	(int)&port_number,
+	"PortNumber",	get_int,	(long int)&port_number,
+	"portnumber",	get_int,	(long int)&port_number,
 #endif
-	"SocketName",	get_str,	(int)&socket_name,
-	"socketname",	get_str,	(int)&socket_name,
+	"SocketName",	get_str,	(long int)&socket_name,
+	"socketname",	get_str,	(long int)&socket_name,
 #ifdef	LOCK_FILE
-	"LockFile",	get_str,	(int)&lock_file;
-	"lockfile",	get_str,	(int)&lock_file;
+	"LockFile",	get_str,	(long int)&lock_file;
+	"lockfile",	get_str,	(long int)&lock_file;
 #endif
 
-	"MaxClient",	get_int,	(int)&max_client,
-	"maxclient",	get_int,	(int)&max_client,
-	"DictDir",	get_str,	(int)&dict_dir,
-	"dictdir",	get_str,	(int)&dict_dir,
-	"ReadDict",	get_list,	(int)&read_dict,
-	"readdict",	get_list,	(int)&read_dict,
-	"OpenDict",	get_list,	(int)&open_dict,
-	"opendict",	get_list,	(int)&open_dict,
-	"ErrorOut",	get_str,	(int)&error_file,
-	"errorout",	get_str,	(int)&error_file,
-	"LogOut",	get_str,	(int)&log_file,
-	"logout",	get_str,	(int)&log_file,
-	"DirMode",	get_int,	(int)&dir_mode,
-	"dirmode",	get_int,	(int)&dir_mode,
-	"FileMode",	get_int,	(int)&file_mode,
-	"filemode",	get_int,	(int)&file_mode,
-	"AllowUser",	get_list,	(int)&allow_user,
-	"allowuser",	get_list,	(int)&allow_user,
+	"MaxClient",	get_int,	(long int)&max_client,
+	"maxclient",	get_int,	(long int)&max_client,
+	"DictDir",	get_str,	(long int)&dict_dir,
+	"dictdir",	get_str,	(long int)&dict_dir,
+	"ReadDict",	get_list,	(long int)&read_dict,
+	"readdict",	get_list,	(long int)&read_dict,
+	"OpenDict",	get_list,	(long int)&open_dict,
+	"opendict",	get_list,	(long int)&open_dict,
+	"ErrorOut",	get_str,	(long int)&error_file,
+	"errorout",	get_str,	(long int)&error_file,
+	"LogOut",	get_str,	(long int)&log_file,
+	"logout",	get_str,	(long int)&log_file,
+	"DirMode",	get_int,	(long int)&dir_mode,
+	"dirmode",	get_int,	(long int)&dir_mode,
+	"FileMode",	get_int,	(long int)&file_mode,
+	"filemode",	get_int,	(long int)&file_mode,
+	"AllowUser",	get_list,	(long int)&allow_user,
+	"allowuser",	get_list,	(long int)&allow_user,
 	0, 0, 0
 };
