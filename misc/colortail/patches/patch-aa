$NetBSD: patch-aa,v 1.1.1.1 2001/01/24 03:53:06 hubertf Exp $

--- TailFile.cc.orig	Wed Jan 24 04:44:29 2001
+++ TailFile.cc
@@ -417,7 +417,10 @@
       int ch = fgetc(m_file);
 
       // add the character to the string
-      m_follow_buffer->put(ch);
+     if (ch == EOF)
+	  clearerr(m_file);	// required by POSIX and ANSI
+     else
+          m_follow_buffer->put(ch);
       
       // check if return
       if (ch == '\n')
