$NetBSD: patch-bg,v 1.1.1.1 2007/02/27 11:55:57 hira Exp $

--- ../vcl/util/makefile.mk.orig	2006-12-02 02:58:04.000000000 +0900
+++ ../vcl/util/makefile.mk	2007-02-23 18:56:11.000000000 +0900
@@ -187,7 +187,7 @@
 SHL1LIBS=   $(LIB1TARGET)
 .IF "$(GUI)"!="UNX"
 SHL1OBJS=   $(SLO)$/salshl.obj
-.ELIF "$(OS)"!="FREEBSD"
+.ELIF "$(OS)"!="FREEBSD" && "$(OS)"!="NETBSD"
 SHL1STDLIBS+=-ldl
 .ENDIF
 
@@ -227,7 +227,7 @@
 
 .IF "$(GUI)"=="UNX"
 
-.IF "$(OS)"!="MACOSX" && "$(OS)"!="FREEBSD"
+.IF "$(OS)"!="MACOSX" && "$(OS)"!="FREEBSD" && "$(OS)"!="NETBSD"
 SHL1STDLIBS+= -ldl
 .ENDIF
 
@@ -235,7 +235,7 @@
 SHL1STDLIBS += -framework Cocoa
 .ENDIF
 
-SHL1STDLIBS += -lX11
+SHL1STDLIBS += $(X11_LDFLAGS) -lX11
 
 .IF "$(OS)"=="MACOSX"
 SHL1STDLIBS += -framework Foundation -framework CoreFoundation
@@ -315,8 +315,8 @@
 SHL2STDLIBS+=$(LIBSN_LIBS)
 .ENDIF
 
-SHL2STDLIBS += -lXext -lSM -lICE -lX11
-.IF "$(OS)"!="MACOSX" && "$(OS)"!="FREEBSD"
+SHL2STDLIBS += $(X11_LDFLAGS) -lXext -lSM -lICE -lX11
+.IF "$(OS)"!="MACOSX" && "$(OS)"!="FREEBSD" && "$(OS)"!="NETBSD"
 # needed by salprnpsp.cxx
 SHL2STDLIBS+= -ldl
 .ENDIF
@@ -372,10 +372,10 @@
 
 
 SHL4STDLIBS+=-l$(SHL2TARGET)
-.IF "$(OS)"=="FREEBSD" || "$(OS)"=="MACOSX"
-SHL4STDLIBS+=$(SHL3STDLIBS) -lX11
+.IF "$(OS)"=="FREEBSD" || "$(OS)"=="MACOSX" || "$(OS)"=="NETBSD"
+SHL4STDLIBS+=$(SHL3STDLIBS) $(X11_LDFLAGS) -lX11
 .ELSE
-SHL4STDLIBS+=$(SHL3STDLIBS) -lX11 -ldl
+SHL4STDLIBS+=$(SHL3STDLIBS) $(X11_LDFLAGS) -lX11 -ldl
 .ENDIF # "$(OS)"=="FREEBSD" || "$(OS)"=="MACOSX"
 .ENDIF # "$(ENABLE_GTK)" != ""
 
@@ -390,10 +390,10 @@
 # libs for KDE plugin
 SHL5STDLIBS=$(KDE_LIBS)
 SHL5STDLIBS+=-l$(SHL2TARGET)
-.IF "$(OS)"=="FREEBSD" || "$(OS)"=="MACOSX"
-SHL5STDLIBS+=$(SHL3STDLIBS) -lX11
+.IF "$(OS)"=="FREEBSD" || "$(OS)"=="MACOSX" || "$(OS)"=="NETBSD"
+SHL5STDLIBS+=$(SHL3STDLIBS) $(X11_LDFLAGS) -lX11
 .ELSE
-SHL5STDLIBS+=$(SHL3STDLIBS) -lX11 -ldl
+SHL5STDLIBS+=$(SHL3STDLIBS) $(X11_LDFLAGS) -lX11 -ldl
 .ENDIF # "$(OS)"=="FREEBSD" || "$(OS)"=="MACOSX"
 .ENDIF # "$(ENABLE_KDE)" != ""
 
