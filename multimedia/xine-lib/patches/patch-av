$NetBSD: patch-av,v 1.2.4.1 2006/12/09 09:13:15 salo Exp $

--- src/libreal/xine_decoder.c.orig	2006-07-10 23:08:30.000000000 +0100
+++ src/libreal/xine_decoder.c
@@ -102,6 +102,15 @@ typedef struct {
 } rv_init_t;
 
 
+#if defined(__FreeBSD__) || defined(__NetBSD__) || defined(__OpenBSD__)
+void *__ctype_b=NULL;
+void ___brk_addr(void) {exit(0);}
+char **__environ={NULL};
+#undef stderr
+FILE *stderr=NULL;
+#endif
+
+
 void *__builtin_vec_new(uint32_t size);
 void __builtin_vec_delete(void *mem);
 void __pure_virtual(void);
@@ -654,8 +663,7 @@ static void *init_class (xine_t *xine, v
  * exported plugin catalog entry
  */
 
-static uint32_t supported_types[] = { BUF_VIDEO_RV20,
-                                      BUF_VIDEO_RV30,
+static uint32_t supported_types[] = { BUF_VIDEO_RV30,
                                       BUF_VIDEO_RV40,
                                       0 };
 
