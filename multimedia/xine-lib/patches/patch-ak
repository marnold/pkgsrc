$NetBSD: patch-ak,v 1.2.10.1 2005/04/27 02:53:42 snj Exp $

--- src/input/librtsp/rtsp.c	2004/07/25 17:13:54	1.18
+++ src/input/librtsp/rtsp.c	2005/04/16 07:10:51	1.19
@@ -218,6 +218,7 @@
   unsigned int answer_seq;
   char **answer_ptr=s->answers;
   int code;
+  int ans_count = 0;
   
   answer=rtsp_get(s);
   if (!answer)
@@ -268,7 +269,7 @@
     }
     *answer_ptr=answer;
     answer_ptr++;
-  } while (strlen(answer)!=0);
+  } while ((strlen(answer)!=0) && (++ans_count < MAX_FIELDS));
   
   s->cseq++;
   
