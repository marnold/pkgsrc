$NetBSD: patch-aa,v 1.1.1.1 2004/01/26 11:36:35 jmmv Exp $

--- Makefile.orig	Mon Feb 12 23:08:59 2001
+++ Makefile
@@ -4,13 +4,10 @@
 
 HAVE_XFREE86 = YES
 
-ifneq ($(X11PREFIX),)                      # NetBSD
-X11BASE      ?= $(X11PREFIX)
-else
 X11BASE      ?= /usr/X11R6
-endif
+X11BASEINST  ?= $(PREFIX)
 
-X11BASEINST  ?= $(X11BASE)
+PREFIX       ?= /usr/local
 LOCALBASE    ?= /usr/local
 DEBUG        = NO
 OS           = $(shell uname -s)
@@ -24,15 +21,6 @@ override LIBDIRS           = $(X11BASE)/
 override SHELL             = /bin/sh
 
 #
-# NetBSD stuff
-#
-ifeq ($(OS),NetBSD)
-  override INC            += -I/usr/pkg/include
-  override LIBDIRS        += /usr/pkg/lib
-  override LD_INC         += -lossaudio -lz
-endif
-
-#
 # OpenBSD stuff
 #
 ifeq ($(OS),OpenBSD)
@@ -72,6 +60,15 @@ endif
 
 override CFLAGS           += $(C_WARN_FLAG) -DX11BASE=\"$(X11BASEINST)\"
 
+#
+# NetBSD stuff
+#
+ifeq ($(OS),NetBSD)
+  override INC            += -I$(LOCALBASE)/include
+  override LIBDIRS        += $(LOCALBASE)/lib
+  override LD_INC         += $(LIBOSSAUDIO) -lz
+endif
+
 ifeq ($(OS), linux)
 override CFLAGS            = $(CFLAGS) -DOLD_TUNER_IFACE
 endif
@@ -81,7 +78,7 @@ endif
 #
 override LDFLAGS           = $(LD_INC) 
 override VIDEOLIB_LIB      = $(VIDEOLIB_DIR)/libvideo.a
-override LIBS              = -ltiff -ljpeg -lXaw3d -lXmu -lXt -lXpm \
+override LIBS              = -lpng -ltiff -ljpeg -lXaw3d -lXmu -lXt -lXpm \
                              -lSM -lICE -lXext -lX11 -lm
 ifeq ($(HAVE_XFREE86),YES)
   override LIBS           += -lXxf86dga -lXxf86vm
