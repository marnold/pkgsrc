$NetBSD: patch-ak,v 1.1.1.1 2004/01/26 15:42:05 jmmv Exp $

--- kmix/Makefile.in.orig	2003-12-29 11:29:37.000000000 +1300
+++ kmix/Makefile.in
@@ -381,7 +381,7 @@ SUBDIRS = control pics
 INCLUDES = $(all_includes)
 
 bin_PROGRAMS = kmix kmixctrl
-lib_LTLIBRARIES = kmix.la kmixctrl.la
+lib_LTLIBRARIES = libkmix_main.la kmix.la libkmixctrl_main.la kmixctrl.la
 kde_module_LTLIBRARIES = kmix_panelapplet.la
 
 noinst_HEADERS = kmix.h kmixdockwidget.h kmixprefdlg.h kmixerwidget.h \
@@ -390,29 +390,37 @@ noinst_HEADERS = kmix.h kmixdockwidget.h
 
 
 #>- METASOURCES = AUTO
-#>- kmix_la_SOURCES = main.cpp kmix.cpp kmixdockwidget.cpp kmixprefdlg.cpp \
+#>- libkmix_main_la_SOURCES = main.cpp kmix.cpp kmixdockwidget.cpp kmixprefdlg.cpp \
 #>- 	kmixerwidget.cpp channel.cpp mixer.cpp ksmallslider.cpp VerticalText.cpp \
 #>- 	volume.cpp kledbutton.cpp mixdevicewidget.cpp mixerIface.skel
 #>+ 3
-kmix_la_SOURCES=main.cpp kmix.cpp kmixdockwidget.cpp kmixprefdlg.cpp \
+libkmix_main_la_SOURCES=main.cpp kmix.cpp kmixdockwidget.cpp kmixprefdlg.cpp \
 	kmixerwidget.cpp channel.cpp mixer.cpp ksmallslider.cpp VerticalText.cpp \
 	volume.cpp kledbutton.cpp mixdevicewidget.cpp  mixerIface_skel.cpp
 
-kmix_la_LIBADD = $(LIB_KDEUI) $(LIBALIB) $(LIBOSSAUDIO) $(LIBASOUND)
+libkmix_main_la_LIBADD = $(LIB_KDEUI) $(LIBALIB) $(LIBOSSAUDIO) $(LIBASOUND)
+libkmix_main_la_LDFLAGS = $(all_libraries)
+
+kmix_la_SOURCES = kmix_main.cpp
+kmix_la_LIBADD = libkmix_main.la
 kmix_la_LDFLAGS = $(all_libraries) -module -avoid-version
 
-kmix_SOURCES = dummy.cpp
-kmix_LDADD = kmix.la
+kmix_SOURCES = kmix_main.cpp
+kmix_LDADD = libkmix_main.la
 kmix_LDFLAGS = $(all_libraries) $(KDE_RPATH)
 
-#>- kmixctrl_la_SOURCES = kmixctrl.cpp channel.cpp mixer.cpp volume.cpp mixerIface.skel
+#>- libkmixctrl_main_la_SOURCES = kmixctrl.cpp channel.cpp mixer.cpp volume.cpp mixerIface.skel
 #>+ 1
-kmixctrl_la_SOURCES=kmixctrl.cpp channel.cpp mixer.cpp volume.cpp  mixerIface_skel.cpp
-kmixctrl_la_LIBADD = $(LIB_KDEUI) $(LIBALIB) $(LIBOSSAUDIO) $(LIBASOUND)
+libkmixctrl_main_la_SOURCES=kmixctrl.cpp channel.cpp mixer.cpp volume.cpp  mixerIface_skel.cpp
+libkmixctrl_main_la_LIBADD = $(LIB_KDEUI) $(LIBALIB) $(LIBOSSAUDIO) $(LIBASOUND)
+libkmixctrl_main_la_LDFLAGS = $(all_libraries)
+
+kmixctrl_la_SOURCES = kmixctrl_main.cpp
+kmixctrl_la_LIBADD = libkmixctrl_main.la
 kmixctrl_la_LDFLAGS = $(all_libraries) -module -avoid-version
 
-kmixctrl_SOURCES = dummy.cpp
-kmixctrl_LDADD = kmixctrl.la
+kmixctrl_SOURCES = kmixctrl_main.cpp
+kmixctrl_LDADD = libkmixctrl_main.la
 kmixctrl_LDFLAGS = $(all_libraries) $(KDE_RPATH)
 
 #>- kmix_panelapplet_la_SOURCES = kmixapplet.cpp kmixerwidget.cpp channel.cpp \
@@ -446,18 +454,11 @@ CONFIG_HEADER = $(top_builddir)/config.h
 CONFIG_CLEAN_FILES =
 LTLIBRARIES = $(kde_module_LTLIBRARIES) $(lib_LTLIBRARIES)
 
-kmix_la_DEPENDENCIES =
-am_kmix_la_OBJECTS = main.lo kmix.lo kmixdockwidget.lo kmixprefdlg.lo \
-	kmixerwidget.lo channel.lo mixer.lo ksmallslider.lo \
-	VerticalText.lo volume.lo kledbutton.lo mixdevicewidget.lo
+kmix_la_DEPENDENCIES = libkmix_main.la
+am_kmix_la_OBJECTS = kmix_main.lo
 #>- kmix_la_OBJECTS = $(am_kmix_la_OBJECTS)
-#>+ 6
-kmix_la_final_OBJECTS = kmix_la.all_cpp.lo 
-kmix_la_nofinal_OBJECTS = main.lo kmix.lo kmixdockwidget.lo kmixprefdlg.lo \
-	kmixerwidget.lo channel.lo mixer.lo ksmallslider.lo \
-	VerticalText.lo volume.lo kledbutton.lo mixdevicewidget.lo mixerIface_skel.lo
-@KDE_USE_FINAL_FALSE@kmix_la_OBJECTS = $(kmix_la_nofinal_OBJECTS)
-@KDE_USE_FINAL_TRUE@kmix_la_OBJECTS = $(kmix_la_final_OBJECTS)
+#>+ 1
+kmix_la_OBJECTS = kmix_main.lo
 kmix_panelapplet_la_DEPENDENCIES =
 am_kmix_panelapplet_la_OBJECTS = kmixapplet.lo kmixerwidget.lo \
 	channel.lo mixer.lo ksmallslider.lo volume.lo kledbutton.lo \
@@ -470,46 +471,73 @@ kmix_panelapplet_la_nofinal_OBJECTS = km
 	VerticalText.lo mixdevicewidget.lo mixerIface_skel.lo colorwidget.lo
 @KDE_USE_FINAL_FALSE@kmix_panelapplet_la_OBJECTS = $(kmix_panelapplet_la_nofinal_OBJECTS)
 @KDE_USE_FINAL_TRUE@kmix_panelapplet_la_OBJECTS = $(kmix_panelapplet_la_final_OBJECTS)
-kmixctrl_la_DEPENDENCIES =
-am_kmixctrl_la_OBJECTS = kmixctrl.lo channel.lo mixer.lo volume.lo
+kmixctrl_la_DEPENDENCIES = libkmixctrl_main.la
+am_kmixctrl_la_OBJECTS = kmixctrl_main.lo
 #>- kmixctrl_la_OBJECTS = $(am_kmixctrl_la_OBJECTS)
-#>+ 4
-kmixctrl_la_final_OBJECTS = kmixctrl_la.all_cpp.lo 
-kmixctrl_la_nofinal_OBJECTS = kmixctrl.lo channel.lo mixer.lo volume.lo mixerIface_skel.lo
-@KDE_USE_FINAL_FALSE@kmixctrl_la_OBJECTS = $(kmixctrl_la_nofinal_OBJECTS)
-@KDE_USE_FINAL_TRUE@kmixctrl_la_OBJECTS = $(kmixctrl_la_final_OBJECTS)
+#>+ 1
+kmixctrl_la_OBJECTS = kmixctrl_main.lo
+libkmix_main_la_DEPENDENCIES =
+am_libkmix_main_la_OBJECTS = main.lo kmix.lo kmixdockwidget.lo \
+	kmixprefdlg.lo kmixerwidget.lo channel.lo mixer.lo \
+	ksmallslider.lo VerticalText.lo volume.lo kledbutton.lo \
+	mixdevicewidget.lo
+#>- libkmix_main_la_OBJECTS = $(am_libkmix_main_la_OBJECTS)
+#>+ 7
+libkmix_main_la_final_OBJECTS = libkmix_main_la.all_cpp.lo 
+libkmix_main_la_nofinal_OBJECTS = main.lo kmix.lo kmixdockwidget.lo \
+	kmixprefdlg.lo kmixerwidget.lo channel.lo mixer.lo \
+	ksmallslider.lo VerticalText.lo volume.lo kledbutton.lo \
+	mixdevicewidget.lo mixerIface_skel.lo
+@KDE_USE_FINAL_FALSE@libkmix_main_la_OBJECTS = $(libkmix_main_la_nofinal_OBJECTS)
+@KDE_USE_FINAL_TRUE@libkmix_main_la_OBJECTS = $(libkmix_main_la_final_OBJECTS)
+libkmixctrl_main_la_DEPENDENCIES =
+am_libkmixctrl_main_la_OBJECTS = kmixctrl.lo channel.lo mixer.lo \
+	volume.lo
+#>- libkmixctrl_main_la_OBJECTS = $(am_libkmixctrl_main_la_OBJECTS)
+#>+ 5
+libkmixctrl_main_la_final_OBJECTS = libkmixctrl_main_la.all_cpp.lo 
+libkmixctrl_main_la_nofinal_OBJECTS = kmixctrl.lo channel.lo mixer.lo \
+	volume.lo mixerIface_skel.lo
+@KDE_USE_FINAL_FALSE@libkmixctrl_main_la_OBJECTS = $(libkmixctrl_main_la_nofinal_OBJECTS)
+@KDE_USE_FINAL_TRUE@libkmixctrl_main_la_OBJECTS = $(libkmixctrl_main_la_final_OBJECTS)
 bin_PROGRAMS = kmix$(EXEEXT) kmixctrl$(EXEEXT)
 PROGRAMS = $(bin_PROGRAMS)
 
-am_kmix_OBJECTS = dummy.$(OBJEXT)
+am_kmix_OBJECTS = kmix_main.$(OBJEXT)
 #>- kmix_OBJECTS = $(am_kmix_OBJECTS)
 #>+ 1
-kmix_OBJECTS = dummy.$(OBJEXT)
-kmix_DEPENDENCIES = kmix.la
-am_kmixctrl_OBJECTS = dummy.$(OBJEXT)
+kmix_OBJECTS = kmix_main.$(OBJEXT)
+kmix_DEPENDENCIES = libkmix_main.la
+am_kmixctrl_OBJECTS = kmixctrl_main.$(OBJEXT)
 #>- kmixctrl_OBJECTS = $(am_kmixctrl_OBJECTS)
 #>+ 1
-kmixctrl_OBJECTS = dummy.$(OBJEXT)
-kmixctrl_DEPENDENCIES = kmixctrl.la
+kmixctrl_OBJECTS = kmixctrl_main.$(OBJEXT)
+kmixctrl_DEPENDENCIES = libkmixctrl_main.la
 
 DEFAULT_INCLUDES =  -I. -I$(srcdir) -I$(top_builddir)
 depcomp = $(SHELL) $(top_srcdir)/admin/depcomp
 am__depfiles_maybe = depfiles
 #>- @AMDEP_TRUE@DEP_FILES = ./$(DEPDIR)/VerticalText.Plo \
-#>- @AMDEP_TRUE@	./$(DEPDIR)/channel.Plo ./$(DEPDIR)/dummy.Po \
-#>- @AMDEP_TRUE@	./$(DEPDIR)/kledbutton.Plo ./$(DEPDIR)/kmix.Plo \
-#>- @AMDEP_TRUE@	./$(DEPDIR)/kmixapplet.Plo ./$(DEPDIR)/kmixctrl.Plo \
+#>- @AMDEP_TRUE@	./$(DEPDIR)/channel.Plo ./$(DEPDIR)/kledbutton.Plo \
+#>- @AMDEP_TRUE@	./$(DEPDIR)/kmix.Plo ./$(DEPDIR)/kmix_main.Plo \
+#>- @AMDEP_TRUE@	./$(DEPDIR)/kmix_main.Po ./$(DEPDIR)/kmixapplet.Plo \
+#>- @AMDEP_TRUE@	./$(DEPDIR)/kmixctrl.Plo \
+#>- @AMDEP_TRUE@	./$(DEPDIR)/kmixctrl_main.Plo \
+#>- @AMDEP_TRUE@	./$(DEPDIR)/kmixctrl_main.Po \
 #>- @AMDEP_TRUE@	./$(DEPDIR)/kmixdockwidget.Plo \
 #>- @AMDEP_TRUE@	./$(DEPDIR)/kmixerwidget.Plo \
 #>- @AMDEP_TRUE@	./$(DEPDIR)/kmixprefdlg.Plo \
 #>- @AMDEP_TRUE@	./$(DEPDIR)/ksmallslider.Plo ./$(DEPDIR)/main.Plo \
 #>- @AMDEP_TRUE@	./$(DEPDIR)/mixdevicewidget.Plo \
 #>- @AMDEP_TRUE@	./$(DEPDIR)/mixer.Plo ./$(DEPDIR)/volume.Plo
-#>+ 21
-@AMDEP_TRUE@@KDE_USE_FINAL_TRUE@DEP_FILES =  $(DEPDIR)/mixerIface_skel.P $(DEPDIR)/colorwidget.P  $(DEPDIR)/kmix_la.all_cpp.P $(DEPDIR)/kmix_panelapplet_la.all_cpp.P $(DEPDIR)/kmixctrl_la.all_cpp.P  ./$(DEPDIR)/VerticalText.Plo \
-@AMDEP_TRUE@@KDE_USE_FINAL_TRUE@	@AMDEP_TRUE@	./$(DEPDIR)/channel.Plo ./$(DEPDIR)/dummy.Po \
-@AMDEP_TRUE@@KDE_USE_FINAL_TRUE@	@AMDEP_TRUE@	./$(DEPDIR)/kledbutton.Plo ./$(DEPDIR)/kmix.Plo \
-@AMDEP_TRUE@@KDE_USE_FINAL_TRUE@	@AMDEP_TRUE@	./$(DEPDIR)/kmixapplet.Plo ./$(DEPDIR)/kmixctrl.Plo \
+#>+ 27
+@AMDEP_TRUE@@KDE_USE_FINAL_TRUE@DEP_FILES =  $(DEPDIR)/mixerIface_skel.P $(DEPDIR)/colorwidget.P  $(DEPDIR)/kmix_panelapplet_la.all_cpp.P $(DEPDIR)/libkmix_main_la.all_cpp.P $(DEPDIR)/libkmixctrl_main_la.all_cpp.P  ./$(DEPDIR)/VerticalText.Plo \
+@AMDEP_TRUE@@KDE_USE_FINAL_TRUE@	@AMDEP_TRUE@	./$(DEPDIR)/channel.Plo ./$(DEPDIR)/kledbutton.Plo \
+@AMDEP_TRUE@@KDE_USE_FINAL_TRUE@	@AMDEP_TRUE@	./$(DEPDIR)/kmix.Plo ./$(DEPDIR)/kmix_main.Plo \
+@AMDEP_TRUE@@KDE_USE_FINAL_TRUE@	@AMDEP_TRUE@	./$(DEPDIR)/kmix_main.Po ./$(DEPDIR)/kmixapplet.Plo \
+@AMDEP_TRUE@@KDE_USE_FINAL_TRUE@	@AMDEP_TRUE@	./$(DEPDIR)/kmixctrl.Plo \
+@AMDEP_TRUE@@KDE_USE_FINAL_TRUE@	@AMDEP_TRUE@	./$(DEPDIR)/kmixctrl_main.Plo \
+@AMDEP_TRUE@@KDE_USE_FINAL_TRUE@	@AMDEP_TRUE@	./$(DEPDIR)/kmixctrl_main.Po \
 @AMDEP_TRUE@@KDE_USE_FINAL_TRUE@	@AMDEP_TRUE@	./$(DEPDIR)/kmixdockwidget.Plo \
 @AMDEP_TRUE@@KDE_USE_FINAL_TRUE@	@AMDEP_TRUE@	./$(DEPDIR)/kmixerwidget.Plo \
 @AMDEP_TRUE@@KDE_USE_FINAL_TRUE@	@AMDEP_TRUE@	./$(DEPDIR)/kmixprefdlg.Plo \
@@ -517,9 +545,12 @@ am__depfiles_maybe = depfiles
 @AMDEP_TRUE@@KDE_USE_FINAL_TRUE@	@AMDEP_TRUE@	./$(DEPDIR)/mixdevicewidget.Plo \
 @AMDEP_TRUE@@KDE_USE_FINAL_TRUE@	@AMDEP_TRUE@	./$(DEPDIR)/mixer.Plo ./$(DEPDIR)/volume.Plo
 @AMDEP_TRUE@@KDE_USE_FINAL_FALSE@DEP_FILES =  $(DEPDIR)/mixerIface_skel.P $(DEPDIR)/colorwidget.P  ./$(DEPDIR)/VerticalText.Plo \
-@AMDEP_TRUE@@KDE_USE_FINAL_FALSE@	@AMDEP_TRUE@	./$(DEPDIR)/channel.Plo ./$(DEPDIR)/dummy.Po \
-@AMDEP_TRUE@@KDE_USE_FINAL_FALSE@	@AMDEP_TRUE@	./$(DEPDIR)/kledbutton.Plo ./$(DEPDIR)/kmix.Plo \
-@AMDEP_TRUE@@KDE_USE_FINAL_FALSE@	@AMDEP_TRUE@	./$(DEPDIR)/kmixapplet.Plo ./$(DEPDIR)/kmixctrl.Plo \
+@AMDEP_TRUE@@KDE_USE_FINAL_FALSE@	@AMDEP_TRUE@	./$(DEPDIR)/channel.Plo ./$(DEPDIR)/kledbutton.Plo \
+@AMDEP_TRUE@@KDE_USE_FINAL_FALSE@	@AMDEP_TRUE@	./$(DEPDIR)/kmix.Plo ./$(DEPDIR)/kmix_main.Plo \
+@AMDEP_TRUE@@KDE_USE_FINAL_FALSE@	@AMDEP_TRUE@	./$(DEPDIR)/kmix_main.Po ./$(DEPDIR)/kmixapplet.Plo \
+@AMDEP_TRUE@@KDE_USE_FINAL_FALSE@	@AMDEP_TRUE@	./$(DEPDIR)/kmixctrl.Plo \
+@AMDEP_TRUE@@KDE_USE_FINAL_FALSE@	@AMDEP_TRUE@	./$(DEPDIR)/kmixctrl_main.Plo \
+@AMDEP_TRUE@@KDE_USE_FINAL_FALSE@	@AMDEP_TRUE@	./$(DEPDIR)/kmixctrl_main.Po \
 @AMDEP_TRUE@@KDE_USE_FINAL_FALSE@	@AMDEP_TRUE@	./$(DEPDIR)/kmixdockwidget.Plo \
 @AMDEP_TRUE@@KDE_USE_FINAL_FALSE@	@AMDEP_TRUE@	./$(DEPDIR)/kmixerwidget.Plo \
 @AMDEP_TRUE@@KDE_USE_FINAL_FALSE@	@AMDEP_TRUE@	./$(DEPDIR)/kmixprefdlg.Plo \
@@ -546,7 +577,9 @@ CXXLD = $(CXX)
 CXXLINK = $(LIBTOOL) --mode=link --tag=CXX $(CXXLD) $(AM_CXXFLAGS) $(CXXFLAGS) $(KDE_CXXFLAGS) \
 	$(AM_LDFLAGS) $(LDFLAGS) -o $@
 DIST_SOURCES = $(kmix_la_SOURCES) $(kmix_panelapplet_la_SOURCES) \
-	$(kmixctrl_la_SOURCES) $(kmix_SOURCES) $(kmixctrl_SOURCES)
+	$(kmixctrl_la_SOURCES) $(libkmix_main_la_SOURCES) \
+	$(libkmixctrl_main_la_SOURCES) $(kmix_SOURCES) \
+	$(kmixctrl_SOURCES)
 DATA = $(apps_DATA) $(lnk_DATA) $(rc_DATA) $(services_DATA)
 
 HEADERS = $(noinst_HEADERS)
@@ -559,7 +592,7 @@ RECURSIVE_TARGETS = info-recursive dvi-r
 	check-recursive installcheck-recursive
 DIST_COMMON = $(noinst_HEADERS) AUTHORS Makefile.am Makefile.in
 DIST_SUBDIRS = $(SUBDIRS)
-SOURCES = $(kmix_la_SOURCES) $(kmix_panelapplet_la_SOURCES) $(kmixctrl_la_SOURCES) $(kmix_SOURCES) $(kmixctrl_SOURCES)
+SOURCES = $(kmix_la_SOURCES) $(kmix_panelapplet_la_SOURCES) $(kmixctrl_la_SOURCES) $(libkmix_main_la_SOURCES) $(libkmixctrl_main_la_SOURCES) $(kmix_SOURCES) $(kmixctrl_SOURCES)
 
 #>- all: all-recursive
 #>+ 1
@@ -641,6 +674,10 @@ kmix.la: $(kmix_la_OBJECTS) $(kmix_la_DE
 	$(CXXLINK) -rpath $(kde_moduledir) $(kmix_panelapplet_la_LDFLAGS) $(kmix_panelapplet_la_OBJECTS) $(kmix_panelapplet_la_LIBADD) $(LIBS)
 kmixctrl.la: $(kmixctrl_la_OBJECTS) $(kmixctrl_la_DEPENDENCIES) 
 	$(CXXLINK) -rpath $(libdir) $(kmixctrl_la_LDFLAGS) $(kmixctrl_la_OBJECTS) $(kmixctrl_la_LIBADD) $(LIBS)
+libkmix_main.la: $(libkmix_main_la_OBJECTS) $(libkmix_main_la_DEPENDENCIES) 
+	$(CXXLINK) -rpath $(libdir) $(libkmix_main_la_LDFLAGS) $(libkmix_main_la_OBJECTS) $(libkmix_main_la_LIBADD) $(LIBS)
+libkmixctrl_main.la: $(libkmixctrl_main_la_OBJECTS) $(libkmixctrl_main_la_DEPENDENCIES) 
+	$(CXXLINK) -rpath $(libdir) $(libkmixctrl_main_la_LDFLAGS) $(libkmixctrl_main_la_OBJECTS) $(libkmixctrl_main_la_LIBADD) $(LIBS)
 binPROGRAMS_INSTALL = $(INSTALL_PROGRAM)
 install-binPROGRAMS: $(bin_PROGRAMS)
 	@$(NORMAL_INSTALL)
@@ -685,11 +722,14 @@ distclean-compile:
 
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/VerticalText.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/channel.Plo@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/dummy.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/kledbutton.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/kmix.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/kmix_main.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/kmix_main.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/kmixapplet.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/kmixctrl.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/kmixctrl_main.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/kmixctrl_main.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/kmixdockwidget.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/kmixerwidget.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/kmixprefdlg.Plo@am__quote@
@@ -942,7 +982,7 @@ distclean-tags:
 	-rm -f TAGS ID GTAGS GRTAGS GSYMS GPATH tags
 #>- DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
 #>+ 4
-KDE_DIST=mixer_irix.h configure.in.in mixer_sun.h kmixui.rc kmixctrl_restore.desktop mixer_oss.cpp resource.h mixer_alsa.h mixer_none.h kmix-platforms.cpp mixer_alsa5.cpp mixer_alsa9.cpp mixer_irix.cpp colorwidget.ui mixer_hpux.cpp kmixapplet.desktop mixer_none.cpp mixer_oss.h mixer_hpux.h mixer_sun.cpp 
+KDE_DIST=mixer_alsa9.cpp colorwidget.ui kmix-platforms.cpp configure.in.in mixer_hpux.h mixer_irix.h mixer_hpux.cpp kmixui.rc Makefile.in.rej kmixctrl_restore.desktop resource.h mixer_oss.cpp mixer_irix.cpp mixer_sun.h mixer_alsa5.cpp mixer_sun.cpp mixer_none.cpp mixer_none.h mixer_oss.h kmixapplet.desktop mixer_alsa.h 
 
 DISTFILES= $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST) $(KDE_DIST)
 
@@ -1117,25 +1157,16 @@ $(srcdir)/version.h: VERSION
 
 messages: rc.cpp
 	$(XGETTEXT) *.cpp -o $(podir)/kmix.pot
-
-dummy.cpp:
-	echo > dummy.cpp
 # Tell versions [3.59,3.63) of GNU make to not export all variables.
 # Otherwise a system limit (for SysV at least) may be exceeded.
 .NOEXPORT:
 
-#>+ 5
-mixerIface.kidl: $(srcdir)/mixerIface.h $(DCOP_DEPENDENCIES)
-	$(DCOPIDL) $(srcdir)/mixerIface.h > mixerIface.kidl || ( rm -f mixerIface.kidl ; false )
-mixerIface_skel.cpp: mixerIface.kidl
-	$(DCOPIDL2CPP) --c++-suffix cpp --no-signals --no-stub mixerIface.kidl
-
 #>+ 3
-kmix.moc: $(srcdir)/kmix.h
-	$(MOC) $(srcdir)/kmix.h -o kmix.moc
+kmixdockwidget.moc: $(srcdir)/kmixdockwidget.h
+	$(MOC) $(srcdir)/kmixdockwidget.h -o kmixdockwidget.moc
 
 #>+ 1
-mocs: kmix.moc
+mocs: kmixdockwidget.moc
 #>+ 3
 mixdevicewidget.moc: $(srcdir)/mixdevicewidget.h
 	$(MOC) $(srcdir)/mixdevicewidget.h -o mixdevicewidget.moc
@@ -1143,17 +1174,11 @@ mixdevicewidget.moc: $(srcdir)/mixdevice
 #>+ 1
 mocs: mixdevicewidget.moc
 #>+ 3
-kmixerwidget.moc: $(srcdir)/kmixerwidget.h
-	$(MOC) $(srcdir)/kmixerwidget.h -o kmixerwidget.moc
-
-#>+ 1
-mocs: kmixerwidget.moc
-#>+ 3
-kmixapplet.moc: $(srcdir)/kmixapplet.h
-	$(MOC) $(srcdir)/kmixapplet.h -o kmixapplet.moc
+ksmallslider.moc: $(srcdir)/ksmallslider.h
+	$(MOC) $(srcdir)/ksmallslider.h -o ksmallslider.moc
 
 #>+ 1
-mocs: kmixapplet.moc
+mocs: ksmallslider.moc
 #>+ 3
 kmixprefdlg.moc: $(srcdir)/kmixprefdlg.h
 	$(MOC) $(srcdir)/kmixprefdlg.h -o kmixprefdlg.moc
@@ -1161,29 +1186,41 @@ kmixprefdlg.moc: $(srcdir)/kmixprefdlg.h
 #>+ 1
 mocs: kmixprefdlg.moc
 #>+ 3
-kledbutton.moc: $(srcdir)/kledbutton.h
-	$(MOC) $(srcdir)/kledbutton.h -o kledbutton.moc
+mixer.moc: $(srcdir)/mixer.h
+	$(MOC) $(srcdir)/mixer.h -o mixer.moc
 
 #>+ 1
-mocs: kledbutton.moc
+mocs: mixer.moc
 #>+ 3
-ksmallslider.moc: $(srcdir)/ksmallslider.h
-	$(MOC) $(srcdir)/ksmallslider.h -o ksmallslider.moc
+kmix.moc: $(srcdir)/kmix.h
+	$(MOC) $(srcdir)/kmix.h -o kmix.moc
 
 #>+ 1
-mocs: ksmallslider.moc
+mocs: kmix.moc
 #>+ 3
-mixer.moc: $(srcdir)/mixer.h
-	$(MOC) $(srcdir)/mixer.h -o mixer.moc
+kmixapplet.moc: $(srcdir)/kmixapplet.h
+	$(MOC) $(srcdir)/kmixapplet.h -o kmixapplet.moc
 
 #>+ 1
-mocs: mixer.moc
+mocs: kmixapplet.moc
 #>+ 3
-kmixdockwidget.moc: $(srcdir)/kmixdockwidget.h
-	$(MOC) $(srcdir)/kmixdockwidget.h -o kmixdockwidget.moc
+kledbutton.moc: $(srcdir)/kledbutton.h
+	$(MOC) $(srcdir)/kledbutton.h -o kledbutton.moc
 
 #>+ 1
-mocs: kmixdockwidget.moc
+mocs: kledbutton.moc
+#>+ 3
+kmixerwidget.moc: $(srcdir)/kmixerwidget.h
+	$(MOC) $(srcdir)/kmixerwidget.h -o kmixerwidget.moc
+
+#>+ 1
+mocs: kmixerwidget.moc
+#>+ 5
+mixerIface.kidl: $(srcdir)/mixerIface.h $(DCOP_DEPENDENCIES)
+	$(DCOPIDL) $(srcdir)/mixerIface.h > mixerIface.kidl || ( rm -f mixerIface.kidl ; false )
+mixerIface_skel.cpp: mixerIface.kidl
+	$(DCOPIDL2CPP) --c++-suffix cpp --no-signals --no-stub mixerIface.kidl
+
 #>+ 8
 kmix_panelapplet.la.closure: $(kmix_panelapplet_la_OBJECTS) $(kmix_panelapplet_la_DEPENDENCIES)
 	@echo "int main() {return 0;}" > kmix_panelapplet_la_closure.cpp
@@ -1210,7 +1247,7 @@ colorwidget.moc: colorwidget.h
 
 #>+ 3
 clean-metasources:
-	-rm -f  kmix.moc mixdevicewidget.moc kmixerwidget.moc kmixapplet.moc kmixprefdlg.moc kledbutton.moc ksmallslider.moc mixer.moc kmixdockwidget.moc
+	-rm -f  kmixdockwidget.moc mixdevicewidget.moc ksmallslider.moc kmixprefdlg.moc mixer.moc kmix.moc kmixapplet.moc kledbutton.moc kmixerwidget.moc
 
 #>+ 6
 clean-idl:
@@ -1239,19 +1276,7 @@ force-reedit:
 
 
 #>+ 11
-kmix_la.all_cpp.cpp: $(srcdir)/Makefile.in $(srcdir)/main.cpp $(srcdir)/kmix.cpp $(srcdir)/kmixdockwidget.cpp $(srcdir)/kmixprefdlg.cpp $(srcdir)/kmixerwidget.cpp $(srcdir)/channel.cpp $(srcdir)/mixer.cpp $(srcdir)/ksmallslider.cpp $(srcdir)/VerticalText.cpp $(srcdir)/volume.cpp $(srcdir)/kledbutton.cpp $(srcdir)/mixdevicewidget.cpp mixerIface_skel.cpp  kmix.moc kmixerwidget.moc mixdevicewidget.moc kmixprefdlg.moc kledbutton.moc ksmallslider.moc mixer.moc kmixdockwidget.moc
-	@echo 'creating kmix_la.all_cpp.cpp ...'; \
-	rm -f kmix_la.all_cpp.files kmix_la.all_cpp.final; \
-	echo "#define KDE_USE_FINAL 1" >> kmix_la.all_cpp.final; \
-	for file in main.cpp kmix.cpp kmixdockwidget.cpp kmixprefdlg.cpp kmixerwidget.cpp channel.cpp mixer.cpp ksmallslider.cpp VerticalText.cpp volume.cpp kledbutton.cpp mixdevicewidget.cpp mixerIface_skel.cpp ; do \
-	  echo "#include \"$$file\"" >> kmix_la.all_cpp.files; \
-	  test ! -f $(srcdir)/$$file || egrep '^#pragma +implementation' $(srcdir)/$$file >> kmix_la.all_cpp.final; \
-	done; \
-	cat kmix_la.all_cpp.final kmix_la.all_cpp.files > kmix_la.all_cpp.cpp; \
-	rm -f kmix_la.all_cpp.final kmix_la.all_cpp.files
-
-#>+ 11
-kmix_panelapplet_la.all_cpp.cpp: $(srcdir)/Makefile.in $(srcdir)/kmixapplet.cpp $(srcdir)/kmixerwidget.cpp $(srcdir)/channel.cpp $(srcdir)/mixer.cpp $(srcdir)/ksmallslider.cpp $(srcdir)/volume.cpp $(srcdir)/kledbutton.cpp $(srcdir)/VerticalText.cpp $(srcdir)/mixdevicewidget.cpp mixerIface_skel.cpp colorwidget.cpp  kmixerwidget.moc mixdevicewidget.moc kmixapplet.moc kledbutton.moc ksmallslider.moc colorwidget.moc mixer.moc
+kmix_panelapplet_la.all_cpp.cpp: $(srcdir)/Makefile.in $(srcdir)/kmixapplet.cpp $(srcdir)/kmixerwidget.cpp $(srcdir)/channel.cpp $(srcdir)/mixer.cpp $(srcdir)/ksmallslider.cpp $(srcdir)/volume.cpp $(srcdir)/kledbutton.cpp $(srcdir)/VerticalText.cpp $(srcdir)/mixdevicewidget.cpp mixerIface_skel.cpp colorwidget.cpp  mixdevicewidget.moc ksmallslider.moc colorwidget.moc mixer.moc kmixapplet.moc kledbutton.moc kmixerwidget.moc
 	@echo 'creating kmix_panelapplet_la.all_cpp.cpp ...'; \
 	rm -f kmix_panelapplet_la.all_cpp.files kmix_panelapplet_la.all_cpp.final; \
 	echo "#define KDE_USE_FINAL 1" >> kmix_panelapplet_la.all_cpp.final; \
@@ -1263,33 +1288,45 @@ kmix_panelapplet_la.all_cpp.cpp: $(srcdi
 	rm -f kmix_panelapplet_la.all_cpp.final kmix_panelapplet_la.all_cpp.files
 
 #>+ 11
-kmixctrl_la.all_cpp.cpp: $(srcdir)/Makefile.in $(srcdir)/kmixctrl.cpp $(srcdir)/channel.cpp $(srcdir)/mixer.cpp $(srcdir)/volume.cpp mixerIface_skel.cpp  mixer.moc
-	@echo 'creating kmixctrl_la.all_cpp.cpp ...'; \
-	rm -f kmixctrl_la.all_cpp.files kmixctrl_la.all_cpp.final; \
-	echo "#define KDE_USE_FINAL 1" >> kmixctrl_la.all_cpp.final; \
+libkmix_main_la.all_cpp.cpp: $(srcdir)/Makefile.in $(srcdir)/main.cpp $(srcdir)/kmix.cpp $(srcdir)/kmixdockwidget.cpp $(srcdir)/kmixprefdlg.cpp $(srcdir)/kmixerwidget.cpp $(srcdir)/channel.cpp $(srcdir)/mixer.cpp $(srcdir)/ksmallslider.cpp $(srcdir)/VerticalText.cpp $(srcdir)/volume.cpp $(srcdir)/kledbutton.cpp $(srcdir)/mixdevicewidget.cpp mixerIface_skel.cpp  kmixdockwidget.moc mixdevicewidget.moc ksmallslider.moc kmixprefdlg.moc mixer.moc kmix.moc kledbutton.moc kmixerwidget.moc
+	@echo 'creating libkmix_main_la.all_cpp.cpp ...'; \
+	rm -f libkmix_main_la.all_cpp.files libkmix_main_la.all_cpp.final; \
+	echo "#define KDE_USE_FINAL 1" >> libkmix_main_la.all_cpp.final; \
+	for file in main.cpp kmix.cpp kmixdockwidget.cpp kmixprefdlg.cpp kmixerwidget.cpp channel.cpp mixer.cpp ksmallslider.cpp VerticalText.cpp volume.cpp kledbutton.cpp mixdevicewidget.cpp mixerIface_skel.cpp ; do \
+	  echo "#include \"$$file\"" >> libkmix_main_la.all_cpp.files; \
+	  test ! -f $(srcdir)/$$file || egrep '^#pragma +implementation' $(srcdir)/$$file >> libkmix_main_la.all_cpp.final; \
+	done; \
+	cat libkmix_main_la.all_cpp.final libkmix_main_la.all_cpp.files > libkmix_main_la.all_cpp.cpp; \
+	rm -f libkmix_main_la.all_cpp.final libkmix_main_la.all_cpp.files
+
+#>+ 11
+libkmixctrl_main_la.all_cpp.cpp: $(srcdir)/Makefile.in $(srcdir)/kmixctrl.cpp $(srcdir)/channel.cpp $(srcdir)/mixer.cpp $(srcdir)/volume.cpp mixerIface_skel.cpp  mixer.moc
+	@echo 'creating libkmixctrl_main_la.all_cpp.cpp ...'; \
+	rm -f libkmixctrl_main_la.all_cpp.files libkmixctrl_main_la.all_cpp.final; \
+	echo "#define KDE_USE_FINAL 1" >> libkmixctrl_main_la.all_cpp.final; \
 	for file in kmixctrl.cpp channel.cpp mixer.cpp volume.cpp mixerIface_skel.cpp ; do \
-	  echo "#include \"$$file\"" >> kmixctrl_la.all_cpp.files; \
-	  test ! -f $(srcdir)/$$file || egrep '^#pragma +implementation' $(srcdir)/$$file >> kmixctrl_la.all_cpp.final; \
+	  echo "#include \"$$file\"" >> libkmixctrl_main_la.all_cpp.files; \
+	  test ! -f $(srcdir)/$$file || egrep '^#pragma +implementation' $(srcdir)/$$file >> libkmixctrl_main_la.all_cpp.final; \
 	done; \
-	cat kmixctrl_la.all_cpp.final kmixctrl_la.all_cpp.files > kmixctrl_la.all_cpp.cpp; \
-	rm -f kmixctrl_la.all_cpp.final kmixctrl_la.all_cpp.files
+	cat libkmixctrl_main_la.all_cpp.final libkmixctrl_main_la.all_cpp.files > libkmixctrl_main_la.all_cpp.cpp; \
+	rm -f libkmixctrl_main_la.all_cpp.final libkmixctrl_main_la.all_cpp.files
 
 #>+ 3
 clean-final:
-	-rm -f kmix_la.all_cpp.cpp kmix_panelapplet_la.all_cpp.cpp kmixctrl_la.all_cpp.cpp
+	-rm -f kmix_panelapplet_la.all_cpp.cpp libkmix_main_la.all_cpp.cpp libkmixctrl_main_la.all_cpp.cpp
 
 #>+ 2
 final:
-	$(MAKE) kmix_la_OBJECTS="$(kmix_la_final_OBJECTS)" kmix_panelapplet_la_OBJECTS="$(kmix_panelapplet_la_final_OBJECTS)" kmixctrl_la_OBJECTS="$(kmixctrl_la_final_OBJECTS)" all-am
+	$(MAKE) kmix_panelapplet_la_OBJECTS="$(kmix_panelapplet_la_final_OBJECTS)" libkmix_main_la_OBJECTS="$(libkmix_main_la_final_OBJECTS)" libkmixctrl_main_la_OBJECTS="$(libkmixctrl_main_la_final_OBJECTS)" all-am
 #>+ 2
 final-install:
-	$(MAKE) kmix_la_OBJECTS="$(kmix_la_final_OBJECTS)" kmix_panelapplet_la_OBJECTS="$(kmix_panelapplet_la_final_OBJECTS)" kmixctrl_la_OBJECTS="$(kmixctrl_la_final_OBJECTS)" install-am
+	$(MAKE) kmix_panelapplet_la_OBJECTS="$(kmix_panelapplet_la_final_OBJECTS)" libkmix_main_la_OBJECTS="$(libkmix_main_la_final_OBJECTS)" libkmixctrl_main_la_OBJECTS="$(libkmixctrl_main_la_final_OBJECTS)" install-am
 #>+ 2
 no-final:
-	$(MAKE) kmix_la_OBJECTS="$(kmix_la_nofinal_OBJECTS)" kmix_panelapplet_la_OBJECTS="$(kmix_panelapplet_la_nofinal_OBJECTS)" kmixctrl_la_OBJECTS="$(kmixctrl_la_nofinal_OBJECTS)" all-am
+	$(MAKE) kmix_panelapplet_la_OBJECTS="$(kmix_panelapplet_la_nofinal_OBJECTS)" libkmix_main_la_OBJECTS="$(libkmix_main_la_nofinal_OBJECTS)" libkmixctrl_main_la_OBJECTS="$(libkmixctrl_main_la_nofinal_OBJECTS)" all-am
 #>+ 2
 no-final-install:
-	$(MAKE) kmix_la_OBJECTS="$(kmix_la_nofinal_OBJECTS)" kmix_panelapplet_la_OBJECTS="$(kmix_panelapplet_la_nofinal_OBJECTS)" kmixctrl_la_OBJECTS="$(kmixctrl_la_nofinal_OBJECTS)" install-am
+	$(MAKE) kmix_panelapplet_la_OBJECTS="$(kmix_panelapplet_la_nofinal_OBJECTS)" libkmix_main_la_OBJECTS="$(libkmix_main_la_nofinal_OBJECTS)" libkmixctrl_main_la_OBJECTS="$(libkmixctrl_main_la_nofinal_OBJECTS)" install-am
 #>+ 3
 cvs-clean:
 	$(MAKE) admindir=$(top_srcdir)/admin -f $(top_srcdir)/admin/Makefile.common cvs-clean
@@ -1299,30 +1336,30 @@ kde-rpo-clean:
 	-rm -f *.rpo
 
 #>+ 28
-$(srcdir)/mixdevicewidget.cpp: colorwidget.h 
-kmixapplet.o: kmixapplet.moc 
-$(srcdir)/kledbutton.cpp: colorwidget.h 
-$(srcdir)/VerticalText.cpp: colorwidget.h 
+kmixerwidget.lo: kmixerwidget.moc 
+mixer.lo: mixer.moc 
+kmixapplet.lo: kmixapplet.moc 
 ksmallslider.lo: ksmallslider.moc 
-kmixprefdlg.lo: kmixprefdlg.moc 
-mixdevicewidget.lo: mixdevicewidget.moc 
-mixdevicewidget.o: mixdevicewidget.moc 
 kmixerwidget.o: kmixerwidget.moc 
-kmix.lo: kmix.moc 
+mixdevicewidget.o: mixdevicewidget.moc 
 kmixdockwidget.lo: kmixdockwidget.moc 
-kmixerwidget.lo: kmixerwidget.moc 
-kmixapplet.lo: kmixapplet.moc 
-kmixprefdlg.o: kmixprefdlg.moc 
-kmixdockwidget.o: kmixdockwidget.moc 
+$(srcdir)/mixdevicewidget.cpp: colorwidget.h 
 $(srcdir)/kmixerwidget.cpp: colorwidget.h 
+kmix.o: kmix.moc 
 $(srcdir)/mixer.cpp: colorwidget.h 
-kledbutton.lo: kledbutton.moc 
-ksmallslider.o: ksmallslider.moc 
+kmix.lo: kmix.moc 
 $(srcdir)/channel.cpp: colorwidget.h 
-kledbutton.o: kledbutton.moc 
+kmixprefdlg.o: kmixprefdlg.moc 
+$(srcdir)/kledbutton.cpp: colorwidget.h 
+mixdevicewidget.lo: mixdevicewidget.moc 
+ksmallslider.o: ksmallslider.moc 
 mixer.o: mixer.moc 
+kledbutton.o: kledbutton.moc 
+$(srcdir)/VerticalText.cpp: colorwidget.h 
+kmixprefdlg.lo: kmixprefdlg.moc 
+kmixapplet.o: kmixapplet.moc 
+kledbutton.lo: kledbutton.moc 
 $(srcdir)/volume.cpp: colorwidget.h 
-mixer.lo: mixer.moc 
-$(srcdir)/kmixapplet.cpp: colorwidget.h 
 $(srcdir)/ksmallslider.cpp: colorwidget.h 
-kmix.o: kmix.moc 
+$(srcdir)/kmixapplet.cpp: colorwidget.h 
+kmixdockwidget.o: kmixdockwidget.moc 
