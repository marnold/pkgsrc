$NetBSD: patch-aa,v 1.1.1.1 1999/08/05 17:20:11 bad Exp $

--- Makefile.orig	Mon Dec  7 12:52:39 1998
+++ Makefile	Thu Aug  5 19:08:30 1999
@@ -34,7 +34,7 @@
 # This is used by 'make install' command
 #-------------------------------------------------------
 #INSTALLPATH = /opt/local/i386/bin
-INSTALLPATH = /usr/local/bin
+INSTALLPATH = ${PREFIX}/bin
 ########################################################
 
 
@@ -45,7 +45,7 @@
 # pixmap file location (mysql.xpm)
 #-------------------------------------------------------
 #PIXMAPPATH = /opt/local/lib
-PIXMAPPATH = /usr/local/bin
+PIXMAPPATH = ${PREFIX}/share/xmysqladmin
 ########################################################
 
 
@@ -69,7 +69,7 @@
 ########################################################
 #backup dir
 #-------------------------------------------------------
-BACKUPDIR = /tmp
+BACKUPDIR = /var/tmp
 ########################################################
 
 
@@ -80,12 +80,12 @@
 # Compilation Details
 # hum... I think you dont need to change this
 #-------------------------------------------------------
-CC = gcc
+CC = cc
 STDCFLAGS = -g -c -O2 -Wall -DPIXMAPFILE=\"$(PIXMAPPATH)/mysql.xpm\" \
             -DBACKUP=\"$(BACKUP)\" -DBACKUPDIR=\"$(BACKUPDIR)\" \
             -DBACKUPSUFFIX=\"$(BACKUPSUFFIX)\" \
             -DMYSQL_VERSION=$(MYSQL_VERSION)
-STDLFLAGS = 
+STDLFLAGS = ${LDFLAGS}
 ########################################################
 
 
@@ -95,7 +95,7 @@
 ########################################################
 # mysql include dir 
 #-------------------------------------------------------
-MYSQLINC = -I/usr/local/mysql/include/mysql
+MYSQLINC = -I${LOCALBASE}/include/mysql
 ########################################################
 
 
@@ -107,7 +107,7 @@
 # mysql database dir
 #-------------------------------------------------------
 #MYSQLDBDIR = -DMYSQLDBDIR="\"/var/lib/mysql/\""
-MYSQLDBDIR = -DMYSQLDBDIR="\"/usr/local/mysql/var/\""
+MYSQLDBDIR = -DMYSQLDBDIR="\"/var/mysql/\""
 ########################################################
 
 
@@ -118,7 +118,7 @@
 ########################################################
 # mysql library dir
 #-------------------------------------------------------
-MYSQLLOAD = -Wl,-R/usr/local/mysql/lib/mysql -L/usr/local/mysql/lib/mysql -lmysqlclient
+MYSQLLOAD = -Wl,-R${LOCALBASE}/lib/mysql -L${LOCALBASE}/lib/mysql -lmysqlclient
 ########################################################
 
 
@@ -129,7 +129,7 @@
 # xforms librairies dir
 #-------------------------------------------------------
 #XFORMLIBDIR = -L/opt/local/i386/lib
-XFORMLIBDIR = -L/usr/lib
+XFORMLIBDIR = 
 ########################################################
 
 
@@ -141,7 +141,7 @@
 # xforms include dir (xforms.h)
 #-------------------------------------------------------
 #XFORMINCDIR = -I/opt/local/include
-XFORMINCDIR = -I/usr/X11R6/include
+XFORMINCDIR = -I${X11BASE}/include -I${X11BASE}/include/X11
 ########################################################
 
 
@@ -157,7 +157,7 @@
 
 # Use this for Linux:
 XINC =
-XLOAD = -L/usr/X11R6/lib -lX11 /usr/X11R6/lib/libXpm.so.4
+XLOAD = -lX11 -lXpm
 ########################################################
 
 
@@ -211,12 +211,11 @@
 	ccomkey.o \
 	alterTable.o \
 	browseTable.o
- 
+
 ${PROGRAM}: $(OBJS)
 	$(CC) -o ${PROGRAM} $(OBJS) $(MYSQLINC) $(XFORMINCDIR) \
 	$(XINC) $(STDLFLAGS) $(MYSQLLOAD) \
 	$(XLOAD) $(XFORMLIBDIR) -lforms $(LIBS)
-	./$(PROGRAM)
 
 .c.o:
 	$(CC) $*.c $(STDCFLAGS) $(XFORMINCDIR) $(MYSQLINC) $(MYSQLDBDIR) $(XINC)
@@ -226,8 +225,9 @@
 
 install:
 	strip $(PROGRAM)
-	$(INSTALL) -m 711 $(PROGRAM) $(INSTALLPATH)
-	cp mysql.xpm $(PIXMAPPATH)
+	${BSD_INSTALL_PROGRAM} $(PROGRAM) $(INSTALLPATH)
+	${BSD_INSTALL_DATA_DIR} $(PIXMAPPATH)
+	${BSD_INSTALL_DATA} mysql.xpm $(PIXMAPPATH)
 
 version:
 	rm -f $(PROGRAM) $(OBJS) *.bak
