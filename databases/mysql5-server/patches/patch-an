$NetBSD: patch-an,v 1.1.2.2 2006/10/15 10:18:20 salo Exp $

Patch reported: http://bugs.mysql.com/bug.php?id=23294&thanks=4

--- configure.in.orig	2006-10-14 18:56:35.000000000 +0200
+++ configure.in	2006-10-14 18:58:41.000000000 +0200
@@ -475,7 +475,7 @@
   FIND_PROC="$PS \$\$PID | grep -v grep | grep \$\$MYSQLD > /dev/null"
 else
   case $SYSTEM_TYPE in
-    *freebsd*)
+    *freebsd*|*dragonfly*)
       FIND_PROC="$PS p \$\$PID | grep -v grep | grep \$\$MYSQLD > /dev/null"
       ;;
     *darwin*)
@@ -752,6 +752,8 @@
 
 # For sem_xxx functions on Solaris 2.6
 AC_CHECK_FUNC(sem_init, , AC_CHECK_LIB(posix4, sem_init))
+# For sem_xxx functions on NetBSD
+AC_CHECK_FUNC(sem_init, , AC_CHECK_LIB(rt, sem_init))
 MYSQL_CHECK_ZLIB_WITH_COMPRESS
 
 # For large pages support
@@ -1077,7 +1079,7 @@
       MAX_C_OPTIMIZE="-O"
     fi
     ;;
-  *freebsd*)
+  *freebsd*|*dragonfly*)
     AC_MSG_WARN([Adding fix for interrupted reads])
     OSVERSION=`sysctl -a | grep osreldate | awk '{ print $2 }'`
     if test "$OSVERSION" -gt "480100" && \
