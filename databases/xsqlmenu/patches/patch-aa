$NetBSD: patch-aa,v 1.1.1.1 2001/03/27 02:18:07 hubertf Exp $

--- Makefile.orig	Mon Aug 28 05:57:00 2000
+++ Makefile
@@ -8,13 +8,13 @@
 all: xsqlmenu
 
 #XFORMSBASE = /opt/lib
-XFORMSBASE = /usr/X11R6/lib
+XFORMSBASE = ${PREFIX}
 ifeq (${DB},msql)
 # Set MSQLBASE to the place where your MiniSQL distribution resides !
 #MSQLBASE = /opt/lib/Hughes
 MSQLBASE = /usr/local/Hughes
 else
-MYSQLPREFIX = /usr
+MYSQLPREFIX = ${LOCALBASE}
 endif
 
 ifeq (${DB},msql)
@@ -26,18 +26,21 @@
 .msql:
 	touch .msql
 	rm -f .mysql
-	make clean
+	gmake clean
 TYPE=.msql
 else
-CFLAGS  = -O -Wall -I$(MYSQLPREFIX)/include/mysql -DUSE_MYSQL
-LDFLAGS = -L $(MYSQLPREFIX)/lib/mysql -lmysqlclient -L$(XFORMSBASE) -lforms \
-	-lXpm -L/usr/X11R6/lib -lX11 -lm
+CFLAGS  = -O -Wall -I$(MYSQLPREFIX)/include/mysql -DUSE_MYSQL \
+	  -I${X11BASE}/include/X11 \
+	  -I${X11BASE}/include \
+	  -I${LOCALBASE}/include
+LDFLAGS = -L$(MYSQLPREFIX)/lib/mysql -Wl,-R$(MYSQLPREFIX)/lib/mysql -lmysqlclient -L$(XFORMSBASE) -Wl,-R$(XFORMSBASE) -lforms \
+	-lXpm -L${X11BASE}/lib -Wl,-R${X11BASE}/lib -lX11 -lm
 LDSTATICFLAGS= -L $(MYSQLPREFIX)/lib/mysql -lmysqlclient $(XFORMSBASE)/libforms.a \
           $(XFORMSBASE)/libXpm.a -L/usr/X11R6/lib -lX11 -lm
 .mysql:
 	touch .mysql
 	rm -f .msql
-	make clean
+	gmake clean
 TYPE=.mysql
 endif
 
