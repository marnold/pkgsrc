#! /bin/sh
#
# $NetBSD: INSTALL,v 1.1.1.1 2001/11/06 04:08:33 jlam Exp $

PKGNAME=$1
STAGE=$2

CAT="@CAT@"
CHMOD="@CHMOD@"
CP="@CP@"
ECHO="@ECHO@"
MKDIR="@MKDIR@"
TR="@TR@"

SAMPLECONFDIR=${PKG_PREFIX}/share/examples/@PKGBASE@
CONFDIR=/etc

CONFFILES=" \
	${SAMPLECONFDIR}/odbcinst.ini ${CONFDIR}/odbcinst.ini : \
	/dev/null ${CONFDIR}/odbc.ini \
	"

case ${STAGE} in
PRE-INSTALL)
	;;

POST-INSTALL)
	${MKDIR} ${CONFDIR}/ODBCDataSources

	${ECHO} "Installing configuration files:"
	${ECHO} ${CONFFILES} | ${TR} ":" "\012" | while read SAMPLEFILE FILE
	do
		if [ -f ${FILE} ]
		then
			${ECHO} "    ${FILE} already exists"
		else
			${ECHO} "    ${FILE}"
			${CP} ${SAMPLEFILE} ${FILE}
			${CHMOD} 644 ${FILE}
		fi
	done
	${CAT} << EOF

===========================================================================
You may wish to customize the following files:

EOF
	${ECHO} ${CONFFILES} | ${TR} ":" "\012" | while read SAMPLEFILE FILE
	do
		${ECHO} "	${FILE}"
	done
	${CAT} << EOF
===========================================================================
EOF
	;;

*)
	${ECHO} "Unexpected argument: ${STAGE}"
	exit 1
	;;
esac
exit 0
