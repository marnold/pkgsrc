$NetBSD: patch-an,v 1.1.1.1 2006/10/19 22:58:21 bouyer Exp $

--- firmware/Makefile.orig	2006-10-04 04:28:02.000000000 +0200
+++ firmware/Makefile	2006-10-18 17:34:43.000000000 +0200
@@ -4,7 +4,7 @@
 # hvmloader is a 32-bit protected mode binary.
 # It belongs in /usr/lib, not /usr/lib64.
 TARGET      := hvmloader/hvmloader
-INSTALL_DIR := $(DESTDIR)/usr/lib/xen/boot
+INSTALL_DIR := $(PREFIX)/lib/xen/boot
 
 SUBDIRS :=
 SUBDIRS += rombios
@@ -29,8 +29,8 @@
 
 .PHONY: install
 install: all
-	[ -d $(INSTALL_DIR) ] || install -d -m0755 $(INSTALL_DIR)
-	[ ! -e $(TARGET) ] || install -m0644 $(TARGET) $(INSTALL_DIR)
+	$(BSD_INSTALL_DATA_DIR) $(INSTALL_DIR)
+	$(BSD_INSTALL_DATA) $(TARGET) $(INSTALL_DIR)
 
 .PHONY: clean
 clean: 
