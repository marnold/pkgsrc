$NetBSD: patch-ae,v 1.1.2.2 2002/06/23 18:44:59 jlam Exp $

--- configure.in.orig	Sat Mar 24 14:49:45 2001
+++ configure.in
@@ -178,7 +178,7 @@
 AC_CHECK_FUNCTIONS(usleep strerror)
 
 dnl # check for various other headers which we might need
-AC_HAVE_HEADERS(sys/resource.h net/errno.h paths.h)
+AC_HAVE_HEADERS(net/errno.h paths.h)
 
 dnl # at least the test programs need some socket stuff
 AC_CHECK_LIB(nsl, gethostname)
@@ -196,6 +196,15 @@
 fi
 AC_SUBST(EXTRA_INCLUDE_SYS_SELECT_H)
 
+dnl # check whether we've to use a non-standard #include <sys/resource.h>  to get
+dnl # the definition for struct rusage on platforms that support it.
+AC_HAVE_HEADERS(sys/resource.h)
+EXTRA_INCLUDE_SYS_RESOURCE_H="#include <sys/resource.h>"
+if test ".$ac_cv_header_sys_resource_h" != .yes; then
+    EXTRA_INCLUDE_SYS_RESOURCE_H="/* $EXTRA_INCLUDE_SYS_RESOURCE_H */"
+fi
+AC_SUBST(EXTRA_INCLUDE_SYS_RESOURCE_H)
+
 dnl # check whether we've to define sig_atomic_t
 AC_CHECK_TYPEDEF(sig_atomic_t, signal.h)
 FALLBACK_SIG_ATOMIC_T="typedef int sig_atomic_t;"
@@ -563,6 +572,7 @@
 AC_SUBST(PTHREAD_O)
 AC_SUBST(LIBPTHREAD_A)
 AC_SUBST(LIBPTHREAD_LA)
+AC_SUBST(LIBTOOL)
 AC_SUBST(PTHREAD_CONFIG_1)
 AC_SUBST(PTHREAD_3)
 AC_SUBST(INSTALL_PTHREAD)
