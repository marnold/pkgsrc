$NetBSD: patch-aa,v 1.1.1.1 1999/11/11 12:53:17 agc Exp $

Minor portability modifications for NetBSD and Solaris

--- cdecl.c	1999/11/11 12:16:45	1.1
+++ cdecl.c	1999/11/11 12:25:39
@@ -59,7 +59,9 @@
  */
 
 char cdeclsccsid[] = "@(#)cdecl.c	2.5 1/15/96";
-
+
+#include <sys/param.h>
+
 #include <stdio.h>
 #include <ctype.h>
 #if __STDC__ || defined(DOS)
@@ -71,8 +73,10 @@
 # ifndef NOVARARGS
 #  include <varargs.h>
 # endif /* ndef NOVARARGS */
+#if !(defined(__sun__) && defined(__svr4__)) && !(defined(BSD) && (BSD >= 199306))
 char *malloc();
 void free(), exit(), perror();
+#endif
 # ifdef BSD
 #  include <strings.h>
    extern int errno;
@@ -87,6 +91,10 @@
 # endif /* NOVOID */
 #endif /* __STDC__ || DOS */
 
+#if defined(__svr4__) && defined(__sun__)
+#include <errno.h>
+#endif
+
 #ifdef USE_READLINE
 # include <readline/readline.h>
   /* prototypes for functions related to readline() */
@@ -124,7 +132,9 @@
 
 #if __STDC__
   char *ds(char *), *cat(char *, ...), *visible(int);
+#if !(defined(BSD) && BSD >= 199306) && !(defined(__sun__) && defined(__svr4__))
   int getopt(int,char **,char *);
+#endif
   int main(int, char **);
   int yywrap(void);
   int dostdin(void);
