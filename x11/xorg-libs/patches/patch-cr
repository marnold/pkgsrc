$NetBSD: patch-cr,v 1.1.2.2 2006/09/16 10:27:05 salo Exp $

--- lib/X11/lcFile.c.orig	2005-05-14 00:53:44.000000000 +0200
+++ lib/X11/lcFile.c
@@ -269,7 +269,11 @@ xlocaledir(
 	    if (seteuid(0) != 0) {
 		priv = 0;
 	    } else {
-		seteuid(oldeuid);
+		if (seteuid(oldeuid) == -1) {
+		    /* XXX ouch, coudn't get back to original uid 
+		     what can we do ??? */
+		    _exit(127);
+		}
 		priv = 1;
 	    }
 #endif
