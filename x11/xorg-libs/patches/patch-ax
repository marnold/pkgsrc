$NetBSD: patch-ax,v 1.2.8.1 2006/02/15 15:45:17 salo Exp $

--- programs/xdm/config/Xsession.orig	2006-02-14 17:19:08.000000000 +0100
+++ programs/xdm/config/Xsession
@@ -10,9 +10,8 @@
 # redirect errors to a file in user's home directory if we can
 for errfile in "$HOME/.xsession-errors" "${TMPDIR-/tmp}/xses-$USER" "/tmp/xses-$USER"
 do
-	if ( cp /dev/null "$errfile" 2> /dev/null )
+	if ( umask 077 && cp /dev/null "$errfile" 2> /dev/null )
 	then
-		chmod 600 "$errfile"
 		exec > "$errfile" 2>&1
 		break
 	fi
