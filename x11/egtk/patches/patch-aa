$NetBSD: patch-aa,v 1.1.1.1 1999/10/13 19:08:29 jlam Exp $

--- bin/egtkbuild.in.orig	Sat Aug 28 20:10:24 1999
+++ bin/egtkbuild.in	Wed Oct 13 02:55:32 1999
@@ -14,7 +14,7 @@
 #
 # .egtkbuild.rc should set the following variables, if necessary (the
 # default value is shown), which will override the default settings:
-#   COMPILE=compile
+#   COMPILE="smalleiffel compile"
 #   SE_OPTS="-no_strip -no_style_warning"
 #   DEBUG=-g
 #   OPTIMISE=-O
@@ -22,7 +22,7 @@
 #
 # It may also set these variables, which will be prepended to the default
 # options (therefore do not repeat the default options):
-#   CECIL      (default: "-cecil ${EIFFEL_GTK}/C/se/cecil.se")
+#   CECIL      (default: "-cecil @PREFIX@/share/egtk/se/cecil.se")
 #   INCFLAGS   (default: "-I. `gtk-config --cflags`")
 #   LIBS       (default: "`gtk-config --libs`")
 
@@ -48,16 +48,15 @@
 then
 	echo "Current settings:
 	SmallEiffel = $SmallEiffel
-	EIFFEL_GTK  = $EIFFEL_GTK
 "
 fi
 
-COMPILE=compile
+COMPILE="smalleiffel compile"
 DEBUG=-g
 OPTIMISE=-O
 SE_OPTS="-no_strip -no_style_warning"
 EXTERNAL=
-STATICLIB=${EIFFEL_GTK}/C/se/eif_gtk.a
+STATICLIB=@PREFIX@/lib/libegtk_se.a
 GTKLIBS=`gtk-config --libs`
 
 if [ -r ./.egtkbuild.rc ]
@@ -84,19 +83,10 @@
 	fi
 fi
 
-INCFLAGS="$INCFLAGS -I. -I${EIFFEL_GTK}/C/se `gtk-config --cflags`"
+INCFLAGS="$INCFLAGS -I. `gtk-config --cflags`"
 LIBS="$LIBS ${STATICLIB} ${GTKLIBS}"
-CECIL="$CECIL -cecil ${EIFFEL_GTK}/C/se/cecil.se"
-EXTERNAL="${EIFFEL_GTK}/C/se/eif_gtk_se.c $EXTERNAL"
-
-if [ ! -r ${STATICLIB} ]
-then
-	echo "
-${STATICLIB} does not exist;
-cd to `dirname ${STATICLIB}`
-and build it with the command 'make -f Makefile.se'"
-	exit 1
-fi
+CECIL="$CECIL -cecil @PREFIX@/share/egtk/se/cecil.se"
+EXTERNAL="@PREFIX@/share/egtk/se/eif_gtk_se.c $EXTERNAL"
 
 if [ "$verbose" = TRUE ]
 then
