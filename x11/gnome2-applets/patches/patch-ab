$NetBSD: patch-ab,v 1.1.1.1 2003/04/20 23:19:24 rh Exp $

--- mini-commander/src/mc-install-default-macros.c.orig	2003-03-11 03:45:54.000000000 +1000
+++ mini-commander/src/mc-install-default-macros.c
@@ -67,8 +67,8 @@ install_default_macros_list (GConfClient
 
 	error = NULL;
 	schema = gconf_client_get_schema (client, key, &error);
-	if (error) {
-		g_warning (_("Cannot get schema for %s : %s"), key, error->message);
+	if (error || !schema) {
+		g_warning (_("Cannot get schema for %s : %s"), key, error ? error->message : _("unknown error"));
 		g_error_free (error);
 		return;
 	}
