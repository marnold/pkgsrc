$NetBSD: patch-ad,v 1.1.1.1 2005/10/10 17:18:56 reed Exp $

--- config/cf/NetBSD.cf.in.orig	2003-11-20 08:18:18.000000000 -0800
+++ config/cf/NetBSD.cf.in	2005-10-08 19:20:49.000000000 -0700
@@ -143,7 +143,7 @@
 #define MkdirHierCmd		mkdir -p
 
 #undef CcCmd
-#define CcCmd 			gcc
+#define CcCmd 			@@PKGSRC_CC@@
 #ifndef DefaultCCOptions
 #if defined(UseInstalled)
 #define DefaultCCOptions 	/**/
@@ -159,7 +159,7 @@
 #endif
 #endif
 
-#define CppCmd			cpp
+#define CppCmd			@@PKGSRC_CPP@@
 #define StandardCppOptions	-traditional
 #define StandardCppDefines	/**/
 #define PreProcessCmd   	CcCmd -E
@@ -208,13 +208,7 @@
 #define HasWeakSymbols		UseElfFormat 
 
 #ifdef i386Architecture
-# ifndef DefaultGcc2i386Opt
-#  if OSMajorVersion > 1 || (OSMajorVersion == 1 && OSMinorVersion > 2)
-    /* The GCC strength-reduce bug is fixed for NetBSD 1.3 and later */
-#   define DefaultGcc2i386Opt -O2 GccAliasingArgs
-#  endif
-# endif
-# define OptimizedCDebugFlags 	DefaultGcc2i386Opt
+# define OptimizedCDebugFlags 	@@PKGSRC_CFLAGS@@
 # if OSMajorVersion < 1
 #  define ServerOSDefines	XFree86ServerOSDefines -DXNO_SYSCONF
 # else
@@ -224,7 +218,7 @@
 #  define ServerExtraSysLibs	-li386
 # endif
 #else
-# define OptimizedCDebugFlags 	-O2
+# define OptimizedCDebugFlags 	@@PKGSRC_CFLAGS@@
 # if defined(SparcArchitecture)
 #  define ServerOSDefines 	-DDDXOSINIT
 # elif defined(AlphaArchitecture)
@@ -465,9 +459,7 @@
 file.0:: file.$(MANNEWSUFFIX)						@@\
 	@if [ -f file.$(MANNEWSUFFIX) ]; \				@@\
 	then \								@@\
-	cat file.$(MANNEWSUFFIX) | $(NEQN) | $(TBL) | $(NROFF) $(MANMACROS) | $(COL) >/tmp/$$$$.man; \	@@\
-	cp /tmp/$$$$.man file.0; \					@@\
-	$(RM) /tmp/$$$$.man; \						@@\
+	cat file.$(MANNEWSUFFIX) | $(NEQN) | $(TBL) | $(NROFF) $(MANMACROS) | $(COL) > file.0; \	@@\
 	fi 								@@\
 									@@\
 install.man::                                                           @@\
