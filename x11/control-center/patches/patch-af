$NetBSD: patch-af,v 1.1.1.1 2005/05/31 22:09:35 wiz Exp $

--- capplets/background-properties/app-background.c.orig	Wed Nov  8 23:11:17 2000
+++ capplets/background-properties/app-background.c
@@ -7,13 +7,13 @@
 #include <locale.h>
 
 extern void background_init(void);
+extern void background_properties_init(void);
 
 static gchar *background_image = NULL;
 
-const struct poptOption options [] = {
-	{ "background-image", 'b', POPT_ARG_STRING, &background_image, 0,
-	  N_("Set background image."), N_("IMAGE-FILE") },
-	{NULL, '\0', 0, NULL, 0}
+static struct poptOption options = {
+	"background-image", 'b', POPT_ARG_STRING, &background_image, 0,
+	 N_("Set background image."), N_("IMAGE-FILE"),
 };
 
 gint
@@ -24,14 +24,13 @@
 	gchar *session_args[3];
 	int token, init_results;
 	poptContext ctx;
-	char **args;
 
 	setlocale(LC_ALL, "");	
 	bindtextdomain (PACKAGE, GNOMELOCALEDIR);
 	textdomain (PACKAGE);
 
 	init_results = gnome_capplet_init("background-properties", VERSION,
-					  argc, argv, options, 0, &ctx);
+					  argc, argv, &options, 0, &ctx);
 	gnome_window_icon_set_default_from_file (GNOME_ICONDIR"/gnome-ccbackground.png");
 	if (init_results < 0) {
                 g_warning (_("an initialization error occurred while "
