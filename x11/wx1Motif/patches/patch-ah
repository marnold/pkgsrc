$NetBSD: patch-ah,v 1.1.1.1.2.3 2002/08/22 11:13:53 jlam Exp $

--- src/x/wx_ipc.cpp.orig	Thu Mar 26 17:15:44 1998
+++ src/x/wx_ipc.cpp
@@ -104,7 +104,7 @@
 #ifdef VMS
 int errno=0; // there is no defined global variable
 #else
-extern errno;
+#include <errno.h>
 #endif
 
 int wx_socket_create (int port);
@@ -426,7 +426,9 @@
     // Args and return value are the same as connect(2).
     int accept(int fd, struct sockaddr * addr, int * addrLen)
     {
-	int rval = ::accept(fd, addr, addrLen);
+	socklen_t u = (socklen_t) *addrLen;
+	int rval = ::accept(fd, addr, &u);
+	*addrLen = (int) u;
 	if (rval > 0)
 	    addSock(rval);
 	return rval;
