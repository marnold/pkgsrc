$NetBSD: patch-ac,v 1.1.2.2 2006/02/24 15:44:23 salo Exp $

From http://dev.gentoo.org/~plasmaroo/stuff/bomberclone-fix-kaboom.patch
fixing http://www.gentoo.org/security/en/glsa/glsa-200602-09.xml
(part 1).

--- src/menu.c.orig	2005-03-27 03:31:50.000000000 +0200
+++ src/menu.c
@@ -629,7 +629,7 @@ menu_displaymessage (char *title, char *
     memset (text, 0, sizeof (text));
     memset (out, 0, sizeof (out));
     va_start (args, fmt);
-    vsprintf (text, fmt, args);
+    vsnprintf (text, 512, fmt, args);
     va_end (args);
 
     menu_formattext (text, out, lines, &linenr, &maxlinelen, MENU_MESSAGES_MAXLINELEN,
@@ -722,7 +722,7 @@ menu_displaytext (char *title, char *fmt
     memset (text, 0, sizeof (text));
     memset (out, 0, sizeof (out));
     va_start (args, fmt);
-    vsprintf (text, fmt, args);
+    vsnprintf (text, 512, fmt, args);
     va_end (args);
 
     menu_formattext (text, out, lines, &linenr, &maxlinelen, MENU_MESSAGES_MAXLINELEN,
