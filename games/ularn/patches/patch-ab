$NetBSD: patch-ab,v 1.1.1.1 2001/04/27 15:27:30 agc Exp $

--- action.c.orig	Sat Jan 13 16:20:10 2001
+++ action.c	Sat Jan 13 17:54:58 2001
@@ -4,7 +4,7 @@
 #include "player.h"
 #include "extern.h"
 
-run (dir)
+void run (dir)
 int dir;
 {
 	int i;
@@ -27,7 +27,7 @@
 /*
 	function to wield a weapon
  */
-wield ()	
+void wield ()
 {
 	int i;
 
@@ -56,14 +56,14 @@
 /*
 	common routine to say you don't have an item
  */
-ydhi (x)
+void ydhi (x)
 int x;
 { 
 	cursors();  
 	lprintf("\nYou don't have item %c!",x); 
 }
 
-ycwi (x)
+void ycwi (x)
 int x;
 { 
 	cursors();  
@@ -73,7 +73,7 @@
 /*
 	function to wear armor
  */
-wear ()
+void wear ()
 {
 	int i;
 
@@ -124,10 +124,10 @@
 /*
 	function to drop an object
  */
-dropobj ()
+void dropobj ()
 {
 	int i, pitflag=0;
-	char *p;
+	int *p;
 	long amt;
 
 	p = &item[playerx][playery];
@@ -197,7 +197,7 @@
 /*
  *	readscr()		Subroutine to read a scroll one is carrying
  */
-readscr ()
+void readscr ()
 {
 	int i;
 
@@ -230,39 +230,40 @@
 /*
  *	subroutine to eat a cookie one is carrying
  */
-eatcookie ()
+void eatcookie ()
 {
 	int i;
 	char *fortune(), *p;
 
 	while (1) {
-	if ((i = whatitem("eat"))==ESC)  
-		return;
-	if (i != '.')
-	    if (i=='*') 
-		showeat(); 
-	    else {
-		if (iven[i-'a']==OCOOKIE) {
-		    lprcat("\nThe cookie was delicious.");
-		    iven[i-'a']=0;
-		    if (!c[BLINDCOUNT]) {
-			if ((p=fortune(fortfile))!=0) {
-		lprcat("  Inside you find a scrap of paper that says:\n");
-				lprcat(p);
+		if ((i = whatitem("eat"))==ESC)  
+			return;
+		if (i != '.') {
+		    if (i=='*') {
+			showeat(); 
+		    } else {
+			if (iven[i-'a']==OCOOKIE) {
+			    lprcat("\nThe cookie was delicious.");
+			    iven[i-'a']=0;
+			    if (!c[BLINDCOUNT]) {
+				if ((p=fortune(fortfile))!=0) {
+			lprcat("  Inside you find a scrap of paper that says:\n");
+					lprcat(p);
+				}
+			    }
+			    return;
 			}
+			if (iven[i-'a']==0) { ydhi(i); return; }
+			lprcat("\nYou can't eat that!");  return;
 		    }
-		    return;
 		}
-		if (iven[i-'a']==0) { ydhi(i); return; }
-		lprcat("\nYou can't eat that!");  return;
-	    }
 	}
 }
 
 /*
  *	subroutine to quaff a potion one is carrying
  */
-quaff ()
+void quaff ()
 {
 	int i;
 
@@ -289,7 +290,7 @@
 	}
 }
 
-qwhatitem ()
+int qwhatitem ()
 {
 	int j, i=0;
 	char tmp[IVENSIZE];
@@ -316,7 +317,7 @@
 /*
 	function to ask what player wants to do
  */
-whatitem (str)
+int whatitem (str)
 char *str;
 {
 	int j=0, flag=0, i=0;
@@ -440,7 +441,7 @@
 	return (amt);
 }
 
-do_create()
+void do_create()
 {
 	int t, a;
 
