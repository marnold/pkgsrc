# Based on NetBSD: Makefile,v 1.17 2001/12/12 01:48:54 tv Exp
# Original from FreeBSD, no rcs id.

RANLIB=		@RANLIB@
AR=		@AR@
CC=		@CC@
CCLD=		$(CC)
LIBS=		@LIBS@ -linstall
CPPFLAGS=	@CPPFLAGS@
DEFS=		@DEFS@ -I. -I@srcdir@
CFLAGS=		@CFLAGS@
LDFLAGS=	@LDFLAGS@ -L../lib

LINK=		$(CCLD) $(CFLAGS) $(LDFLAGS) -o $@
COMPILE=	$(CC) $(DEFS) $(CPPFLAGS) $(CFLAGS)

LIBINSTALL=	libinstall.a

SRCS=		digest.c exec.c file.c fgetln.c ftpio.c global.c lpkg.c \
		pen.c pkgdb.c plist.c str.c version.c path.c \
		err.c setprogname.c setenv.c unsetenv.c
OBJS=		digest.o exec.o file.o fgetln.o ftpio.o global.o lpkg.o \
		pen.o pkgdb.o plist.o str.o version.o path.o \
		err.o setprogname.o setenv.o unsetenv.o

libinstall.a: ${OBJS}
	${AR} crv ${LIBINSTALL} ${OBJS}
	${RANLIB} ${LIBINSTALL}

version.o: version.h version.c

.c.o:
	$(COMPILE) -c $< -o $@

clean:
	rm -f ${OBJS} ${LIBINSTALL}

install:
