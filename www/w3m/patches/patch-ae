$NetBSD: patch-ae,v 1.1.1.1 1999/09/27 05:37:36 sakamoto Exp $

--- gc/os_dep.c.orig	Wed May 19 17:38:53 1999
+++ gc/os_dep.c	Tue Jun  8 01:25:18 1999
@@ -165,6 +165,19 @@
   }
 #endif
 
+#if defined(NETBSD) && defined(__ELF__)
+  ptr_t GC_data_start;
+
+  void GC_init_netbsd_elf()
+  {
+    extern ptr_t GC_find_limit();
+    extern char **environ;
+	/* This may need to be environ, without the underscore, for	*/
+	/* some versions.						*/
+    GC_data_start = GC_find_limit((ptr_t)&environ, FALSE);
+  }
+#endif
+
 # ifdef OS2
 
 # include <stddef.h>
@@ -2234,7 +2247,7 @@
  * Call stack save code for debugging.
  * Should probably be in mach_dep.c, but that requires reorganization.
  */
-#if defined(SPARC) && !defined(LINUX)
+#if defined(SPARC) && !defined(LINUX) && !defined(NETBSD)
 #   if defined(SUNOS4)
 #     include <machine/frame.h>
 #   else
