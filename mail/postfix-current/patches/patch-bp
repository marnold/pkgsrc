$NetBSD: patch-bp,v 1.1.1.1 2000/08/14 04:33:26 itojun Exp $

--- master/trigger_server.c.orig	Tue Nov  9 16:38:32 1999
+++ master/trigger_server.c	Sat Apr  8 20:46:49 2000
@@ -228,7 +228,7 @@
 static void trigger_server_accept_fifo(int unused_event, char *context)
 {
     char   *myname = "trigger_server_accept_fifo";
-    int     listen_fd = (int) context;
+    int     listen_fd = (int) (long) context;
 
     if (trigger_server_lock != 0
 	&& myflock(vstream_fileno(trigger_server_lock), MYFLOCK_NONE) < 0)
@@ -251,7 +251,7 @@
 static void trigger_server_accept_local(int unused_event, char *context)
 {
     char   *myname = "trigger_server_accept_local";
-    int     listen_fd = (int) context;
+    int     listen_fd = (int) (long) context;
     int     time_left = 0;
     int     fd;
 
@@ -538,7 +538,7 @@
     if (var_idle_limit > 0)
 	event_request_timer(trigger_server_timeout, (char *) 0, var_idle_limit);
     for (fd = MASTER_LISTEN_FD; fd < MASTER_LISTEN_FD + socket_count; fd++) {
-	event_enable_read(fd, trigger_server_accept, (char *) fd);
+	event_enable_read(fd, trigger_server_accept, (char *) (long) fd);
 	close_on_exec(fd, CLOSE_ON_EXEC);
     }
     event_enable_read(MASTER_STATUS_FD, trigger_server_abort, (char *) 0);
