$NetBSD: patch-bn,v 1.1.1.1 2000/08/14 04:33:25 itojun Exp $

--- master/multi_server.c.orig	Tue Nov  9 16:38:32 1999
+++ master/multi_server.c	Sat Apr  8 20:46:49 2000
@@ -258,7 +258,7 @@
 
 static void multi_server_accept_local(int unused_event, char *context)
 {
-    int     listen_fd = (int) context;
+    int     listen_fd = (int) (long) context;
     int     time_left = -1;
     int     fd;
 
@@ -292,7 +292,7 @@
 
 static void multi_server_accept_inet(int unused_event, char *context)
 {
-    int     listen_fd = (int) context;
+    int     listen_fd = (int) (long) context;
     int     time_left = -1;
     int     fd;
 
@@ -557,7 +557,7 @@
     if (var_idle_limit > 0)
 	event_request_timer(multi_server_timeout, (char *) 0, var_idle_limit);
     for (fd = MASTER_LISTEN_FD; fd < MASTER_LISTEN_FD + socket_count; fd++) {
-	event_enable_read(fd, multi_server_accept, (char *) fd);
+	event_enable_read(fd, multi_server_accept, (char *) (long) fd);
 	close_on_exec(fd, CLOSE_ON_EXEC);
     }
     event_enable_read(MASTER_STATUS_FD, multi_server_abort, (char *) 0);
