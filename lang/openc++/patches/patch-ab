$NetBSD: patch-ab,v 1.1.1.1 2002/12/11 19:03:17 cjep Exp $

--- Makefile.SunOSandBSD.orig	Wed Oct 17 07:40:48 2001
+++ Makefile.SunOSandBSD
@@ -16,27 +16,28 @@
 #
 # This makefile was written for GNU make.
 
-CCC = g++
-CXX = g++
+#CCC = g++
+#CXX = g++
 RANLIB = ranlib
 
-CFLAGS = -O -g
-CXXFLAGS = -O -g -ansi -Wall -pedantic
-GCLIB = ../gc/gc.a
-LDFLAGS =
+#CFLAGS = -O -g
+CXXFLAGS += ${INCLUDES} -ansi -Wall -pedantic
+GCLIB = ${GCLIBDIR}/lib/libgc.a
+LDFLAGS += -export-dynamic
 LIB =
 
+
 OBJ = buffer.o hash.o token.o ptree.o ptree-core.o encoding.o env.o\
 	pattern.o walker.o typeinfo.o parse.o main-con.o mop.o classwalk.o\
 	metaclass.o quote-class.o member.o driver.o driver2.o cbodywalk.o
 
 %.o : ../%.cc
-	$(CXX) $(CXXFLAGS) -c -o $@ $<
+	$(CXX) ${CXXFLAGS} -c -o $@ $<
 
 all : libocc
 
 libocc : opencxx.a
-	$(CXX) $(CXXFLAGS) $(LDFLAGS) -o occ opencxx.a $(LIB)
+	$(CXX) ${CXXFLAGS} $(LDFLAGS) -o occ opencxx.a $(LIB)
 
 opencxx.a : $(OBJ)
 	cp $(GCLIB) $@
