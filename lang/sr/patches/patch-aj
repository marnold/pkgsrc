$NetBSD: patch-aj,v 1.1.1.1 2005/02/25 15:54:59 is Exp $

--- rts/math.c.orig	1999-07-28 22:42:24.000000000 +0200
+++ rts/math.c
@@ -1,6 +1,6 @@
 /*  math.c -- runtime support of arithmetic and math builtins  */
 
-#include <varargs.h>
+#include <stdarg.h>
 #include "rts.h"
 
 
@@ -162,17 +162,15 @@ int x, y;
  */
 /*VARARGS*/
 int
-sr_imax (va_alist)
-va_dcl
+sr_imax (int n, ...)
 {
     va_list ap;
-    int n, r, v;
+    int r, v;
 
-    va_start (ap);
-    n = va_arg (ap, int);
     if (n <= 0)
 	sr_malf ("no args to sr_imax");
 
+    va_start (ap, n);
     r = va_arg (ap, int);	/* pick off the first one */
     n--;
 
@@ -193,17 +191,15 @@ va_dcl
  */
 /*VARARGS*/
 int
-sr_imin (va_alist)
-va_dcl
+sr_imin (int n, ...)
 {
     va_list ap;
-    int n, r, v;
+    int r, v;
 
-    va_start (ap);
-    n = va_arg (ap, int);
     if (n <= 0)
 	sr_malf ("no args to sr_imin");
 
+    va_start (ap, n);
     r = va_arg (ap, int);	/* pick off the first one */
     n--;
 
@@ -222,18 +218,15 @@ va_dcl
  */
 /*VARARGS*/
 Real
-sr_rmax (va_alist)
-va_dcl
+sr_rmax (int n, ...)
 {
     va_list ap;
-    int n;
     Real r, v;
 
-    va_start (ap);
-    n = va_arg (ap, int);
     if (n <= 0)
 	sr_malf ("no args to sr_rmax");
 
+    va_start (ap, n);
     r = va_arg (ap, Real);	/* pick off the first one */
     n--;
 
@@ -254,18 +247,15 @@ va_dcl
  */
 /*VARARGS*/
 Real
-sr_rmin (va_alist)
-va_dcl
+sr_rmin (int n, ...)
 {
     va_list ap;
-    int n;
     Real r, v;
 
-    va_start (ap);
-    n = va_arg (ap, int);
     if (n <= 0)
 	sr_malf ("no args to sr_rmin");
 
+    va_start (ap, n);
     r = va_arg (ap, Real);	/* pick off the first one */
     n--;
 
