$NetBSD: patch-am,v 1.1.1.1 2005/02/25 15:54:59 is Exp $

--- rts/scan.c.orig	1999-07-28 22:42:24.000000000 +0200
+++ rts/scan.c
@@ -1,7 +1,7 @@
 /*  scan.c -- scanf and sscanf  */
 
 #include <ctype.h>
-#include <varargs.h>
+#include <stdarg.h>
 #include "rts.h"
 
 static int scanToken (), scanInteger (), scanReal (), scanPointer ();
@@ -58,11 +58,9 @@ static int scanTokenFromSet ();
  *  (or EOF).  The number of successful conversions is returned otherwise.
  */
 int
-sr_scanf (va_alist)
-va_dcl
+sr_scanf (char *locn, ...)
 {
     va_list ap;
-    char *locn;
     Array *a;
     String *sp, *sfmt, *sarg;
     Real *rp, real;
@@ -84,8 +82,7 @@ va_dcl
 
     sr_check_stk (CUR_STACK);
 
-    va_start (ap);
-    locn = va_arg (ap, char *);
+    va_start (ap, locn);
     fp = va_arg (ap, FILE *);
     sarg = va_arg (ap, String *);
     sfmt = va_arg (ap, String *);
